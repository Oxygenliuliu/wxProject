(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/index/index"],{"0f11":function(e,t,n){},"178b":function(e,t,n){"use strict";var r,a=function(){var e=this,t=e.$createElement;e._self._c},o=[];n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return r}))},"2aea":function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n("4795"));function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n,r,a,o,s){try{var i=e[o](s),c=i.value}catch(u){return void n(u)}i.done?t(c):Promise.resolve(c).then(r,a)}function s(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var s=e.apply(t,n);function i(e){o(s,r,a,i,c,"next",e)}function c(e){o(s,r,a,i,c,"throw",e)}i(void 0)}))}}var i=function(){Promise.all([n.e("common/vendor"),n.e("components/uni-order/uniOrder")]).then(function(){return resolve(n("a06c"))}.bind(null,n)).catch(n.oe)},c=function(){n.e("components/uni-often/uni-often").then(function(){return resolve(n("8031"))}.bind(null,n)).catch(n.oe)},u={components:{uniOrder:i,oftenQuery:c},data:function(){return{searchData:"",scrollHeight:0,topItems:[{name:"综合排序",typeId:101},{name:"日期",typeId:102}],chooseData:{data1:[],data2:[]},orderId:"",params:{},pageSettlement:2,costScrollHeight:"",dbname:"",optionsData:""}},onLoad:function(t){var n=this;e.getSystemInfo({success:function(e){n.scrollHeight=e.windowHeight-50-40-31+"px"}}),this.costScrollHeight=this.scrollHeight,this.optionsData={name:"111"};var r=e.getStorageSync("token");r?this.loginThenJquery():e.navigateTo({url:"../../pages/index/login"})},methods:{loginThenJquery:function(){var t=this.optionsData;if(void 0!=t.q){var n=decodeURIComponent(t.q),r=n.indexOf("="),a=n.substr(r+1,n.length),o=JSON.parse(decodeURIComponent(a));if("object"==typeof o){var s="";try{s=JSON.parse(e.getStorageSync("userInfo")).personId}catch(u){}if(o.params.PartnerId==s){if(1==o.type||2==o.type)this.params={QUERY_ID:1,BEGINDATE:o.params.BEGINDATE||"1900-01-01",ENDDATE:o.params.ENDDATE||this.wpublic.getDay(1),PartnerId:o.params.PartnerId||"",Status:o.params.STATUS||0,PAGE_SIZE:8,PAGE_INDEX:0};else{var i=4==o.type?0:1;this.params={QUERY_ID:2,MODE:i,BILL_ID:o.SessionId}}this.$nextTick((function(){this.$refs.uniOrder.jqueyForCustomer()}))}else this.pageSettlement=1,e.showToast({title:"不是您的专属分享链接,您可以自行查看",icon:"none"})}else this.pageSettlement=1,e.showToast({title:"参数错误",icon:"none"})}else{var c="";try{c=JSON.parse(e.getStorageSync("userInfo")).personId}catch(u){}""!=c?(this.params={QUERY_ID:1,BEGINDATE:"1900-01-01",ENDDATE:this.wpublic.getDay(1),PartnerId:c,Status:0,PAGE_SIZE:8,PAGE_INDEX:0},this.$nextTick((function(){this.$refs.uniOrder.jqueyForCustomer()}))):(this.pageSettlement=-1,this.data="用户ID错误或不存在")}},changeScrollHeight:function(e){var t=this.scrollHeight.replace("px","");this.scrollHeight=e.type?parseInt(t)-e.height+"px":this.costScrollHeight},showDrawer:function(){this.$refs.morequery.show()},clickSure:function(e){var t=[];e.forEach((function(e){0!=Object.keys(e.cont).length&&t.push(e)})),this.chooseData.data2=t,this.$refs.uniOrder.changeScreen(this.chooseData)},childQuery:function(e){var t=this,n=[];e.forEach((function(e,r){if(1!=r)""!=e.cont&&n.push(e);else if(0!=Object.keys(e.times).length||""!=e.cont){var a=0,o="";if(""!=e.cont){if("本周"==e.cont){var s="0123456".charAt((new Date).getDay());o=t.wpublic.getDayFor(s)}else{switch(e.cont){case"今天":a=0;break;case"7天":a=-7;break;case"30天":a=-30;break;default:break}o=t.wpublic.getDay(a)}e.times["statrTime"]=o,e.times["endTime"]=(new Date).toISOString().slice(0,10)}n.push(e)}})),this.chooseData.data1=n,this.$refs.uniOrder.changeScreen(this.chooseData)},autoScreen:function(e){var t=this;this.timer&&clearTimeout(this.timer),this.timer=setTimeout((function(){t.$refs.uniOrder.fuzzyQuery(t.searchData)}),1e3)},clickScreen:function(){this.$refs.uniOrder.fuzzyQuery(this.searchData)},someInit:function(){var t=e.getStorageSync("userInfo");if(t)if(t=JSON.parse(t),""==t.userName||""==t.userPassword)e.navigateTo({url:"../../pages/index/login"});else{var n=e.getStorageSync("token")||"",r={userName:t.userName,userPassword:t.userPassword,dbname:t.dbname||"",url:t.url,personName:t.personName,personId:t.personId};this.$store.commit("changeLoginParams",r),this.$store.commit("changeLoginToken",n)}else e.navigateTo({url:"../../pages/index/login"})}},onPullDownRefresh:function(){var t=this;return s(r.default.mark((function n(){return r.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,t.$refs.uniOrder.pullRefresh();case 2:e.stopPullDownRefresh();case 3:case"end":return n.stop()}}),n)})))()},created:function(){this.someInit()},computed:{companyName:{get:function(){return this.$store.state.loginParams.userName},set:function(){return"未知用户"}}}};t.default=u}).call(this,n("543d")["default"])},"3dd0":function(e,t,n){"use strict";var r=n("0f11"),a=n.n(r);a.a},"503d":function(e,t,n){"use strict";(function(e){n("f588"),n("921b");r(n("66fd"));var t=r(n("e9bc"));function r(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,n("543d")["createPage"])},"93a8":function(e,t,n){"use strict";n.r(t);var r=n("2aea"),a=n.n(r);for(var o in r)"default"!==o&&function(e){n.d(t,e,(function(){return r[e]}))}(o);t["default"]=a.a},e9bc:function(e,t,n){"use strict";n.r(t);var r=n("178b"),a=n("93a8");for(var o in a)"default"!==o&&function(e){n.d(t,e,(function(){return a[e]}))}(o);n("3dd0");var s,i=n("f0c5"),c=Object(i["a"])(a["default"],r["b"],r["c"],!1,null,"0bbbfcd7",null,!1,r["a"],s);t["default"]=c.exports}},[["503d","common/runtime","common/vendor"]]]);