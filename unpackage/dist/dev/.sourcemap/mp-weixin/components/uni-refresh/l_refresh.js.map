{"version":3,"sources":["webpack:///D:/uni-app项目/wxProject/components/uni-refresh/l_refresh.vue?b703","webpack:///D:/uni-app项目/wxProject/components/uni-refresh/l_refresh.vue?9c40","webpack:///D:/uni-app项目/wxProject/components/uni-refresh/l_refresh.vue?80ef","webpack:///D:/uni-app项目/wxProject/components/uni-refresh/l_refresh.vue?58cf","uni-app:///components/uni-refresh/l_refresh.vue","webpack:///D:/uni-app项目/wxProject/components/uni-refresh/l_refresh.vue?3a14","webpack:///D:/uni-app项目/wxProject/components/uni-refresh/l_refresh.vue?24c9"],"names":[],"mappings":"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8BA,eA9BA,yBA8BA;AACA;AACA,KAhCA;AAiCA,aAjCA,uBAiCA;AACA;AACA,KAnCA;AAoCA;AACA,cArCA,wBAqCA;AACA;AACA,KAvCA;AAwCA,cAxCA,wBAwCA;AACA,8EADA,CACA;AACA,KA1CA,EAhKA;;AA4MA;AACA;AACA,UAFA,kBAEA,CAFA,EAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAFA,MAEA;AACA;AACA;AACA;AACA,KAvBA;AAwBA;AACA,cAzBA,sBAyBA,CAzBA,EAyBA;AACA;AACA,yCAFA,CAEA;AACA,yCAHA,CAGA;AACA,uCAJA,CAIA;AACA,sEALA,CAKA;AACA,8BANA,CAMA;AACA,KAhCA;AAiCA;AACA,aAlCA,qBAkCA,CAlCA,EAkCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAHA,MAGA;AACA;AACA;AACA;;AAEA,6CAbA,CAaA;AACA,sCAdA,CAcA;;AAEA,iDAhBA,CAgBA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yDADA,CACA;AACA,kDAFA,CAEA;AACA;;AAEA;AACA;AACA,mCADA,CACA;AACA,4BAFA,CAEA;AACA;AACA;;AAEA,iCAjBA,CAiBA;;AAEA,mDAnBA,CAmBA;;AAEA;AACA;AACA;AACA,gCADA,CACA;AACA;AACA,sCAHA,CAGA;AACA,uCAJA,CAIA;AACA,yCALA,CAKA;AACA,+CANA,CAMA;AACA,qCAPA,CAOA;AACA;AACA,2DAVA,CAUA;AACA;AACA,WAZA,MAYA;AACA;AACA,gCADA,CACA;AACA;AACA,sCAHA,CAGA;AACA,uCAJA,CAIA;AACA,yCALA,CAKA;AACA,+CANA,CAMA;AACA,qCAPA,CAOA;AACA;AACA;AACA;AACA,0EAFA,CAEA;AACA,aAHA,MAGA;AACA;AACA,qCAFA,CAEA;AACA;AACA;AACA,yDApDA,CAoDA;AACA;AACA,4DAtDA,CAsDA;AACA;AACA;AACA,gCA/EA,CA+EA;AACA,KAlHA;AAmHA;AACA,YApHA,oBAoHA,CApHA,EAoHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAHA,MAGA;AACA;AACA;AACA,iCAHA,CAGA;AACA,kCAJA,CAIA;AACA,qCALA,CAKA;AACA;AACA;AACA;AACA,OAbA,MAaA;AACA;AACA,oEAFA,CAEA;AACA;AACA;AACA;AACA,KA1IA;AA2IA,kBA3IA,0BA2IA,CA3IA,EA2IA;AACA;AACA;AACA;AACA;AACA,KAhJA;AAiJA;AACA,aAlJA,uBAkJA;AACA,iCADA,CACA;AACA,uBAFA,CAEA;AACA,KArJA;AAsJA;AACA,gBAvJA,0BAuJA;AACA;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA,KA9JA;AA+JA,YA/JA,oBA+JA,CA/JA,EA+JA;AACA;AACA;AACA;AACA,OAFA;AAGA,KApKA;AAqKA;AACA,YAtKA,oBAsKA,CAtKA,EAsKA;AACA;AACA;AACA,cADA;AAEA,cAFA;;AAIA;AACA;AACA;AACA,+BADA;AAEA,+BAFA;;AAIA,OALA,MAKA;AACA;AACA,sCADA;AAEA,sCAFA;;AAIA,OALA,MAKA;AACA;AACA,sBADA;AAEA,sBAFA;;AAIA;AACA,KA7LA;AA8LA;AACA,mBA/LA,6BA+LA;AACA;AACA,KAjMA;AAkMA;AACA,mBAnMA,2BAmMA,MAnMA,EAmMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KA1MA;AA2MA;AACA,uBA5MA,iCA4MA;AACA;AACA,2BADA,CACA;AACA;AACA;AACA;AACA,YADA,CACA,MADA;AAEA,gBAFA,CAEA,qBAFA;AAGA,4BAHA,CAGA;AACA;AACA;AACA;AACA,aAFA,MAEA;AACA;AACA;AACA;AACA;AACA,eAFA,EAEA,sBAFA;AAGA;AACA,WAdA;AAeA,cAfA;AAgBA,SAlBA;AAmBA;AACA,KAnOA;AAoOA;AACA,mBArOA,6BAqOA;AACA;AACA;AACA;AACA,gCAJA,CAIA;AACA,0CALA,CAKA;AACA,6BANA,CAMA;AACA,8BAPA,CAOA;AACA,uCARA,CAQA;AACA,KA9OA;AA+OA;AACA,iBAhPA,2BAgPA;AACA;AACA;AACA;AACA;AACA,KArPA;AAsPA;AACA,mBAvPA,6BAuPA;AACA;AACA;AACA,iCAFA,CAEA;AACA,kCAHA,CAGA;AACA,qCAJA,CAIA;AACA,6BALA,CAKA;AACA,gCANA,CAMA;AACA;AACA,OARA;AASA,KAjQA;AAkQA;AACA,iBAnQA,2BAmQA;AACA;AACA;AACA,OAFA;AAGA,KAvQA;AAwQA;AACA,mBAzQA,6BAyQA;AACA;AACA;AACA,+BAFA,CAEA;AACA,sBAHA,CAGA;AACA;AACA;AACA;AACA,KAjRA;AAkRA;AACA,iBAnRA,yBAmRA,OAnRA,EAmRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KA/RA;AAgSA,WAhSA,qBAgSA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KA7SA;AA8SA;AACA,WA/SA,qBA+SA;AACA;AACA;AACA,KAlTA;AAmTA;AACA,SApTA,mBAoTA;AACA;AACA;AACA;AACA;AACA,KAzTA;AA0TA;AACA,SA3TA,mBA2TA;AACA;AACA;AACA;AACA;AACA,KAhUA;AAiUA;AACA,UAlUA,oBAkUA;AACA;AACA;AACA;AACA;AACA,KAvUA,EA5MA;;AAqhBA;AACA,SAthBA,qBAshBA;AACA;AACA;AACA;AACA,4DADA,CACA;AACA,qEAFA,CAEA;AACA,6CAHA,CAGA;AACA,OALA;;AAOA,GA/hBA;AAgiBA,SAhiBA,qBAgiBA;AACA;AACA;AACA;AACA;AACA,GAriBA;AAsiBA,eAtiBA,2BAsiBA;AACA;AACA,GAxiBA,E;;;;;;;;;;;;;ACtDA;AAAA;AAAA;AAAA;AAAy3C,CAAgB,20CAAG,EAAC,C;;;;;;;;;;;ACA74C;AACA,OAAO,KAAU,EAAE,kBAKd","file":"components/uni-refresh/l_refresh.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./l_refresh.vue?vue&type=template&id=607112e8&\"\nvar renderjs\nimport script from \"./l_refresh.vue?vue&type=script&lang=js&\"\nexport * from \"./l_refresh.vue?vue&type=script&lang=js&\"\nimport style0 from \"./l_refresh.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../HBuilderX.2.3.7.20191024.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"components/uni-refresh/l_refresh.vue\"\nexport default component.exports","export * from \"-!../../../../HBuilderX.2.3.7.20191024.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../HBuilderX.2.3.7.20191024.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../HBuilderX.2.3.7.20191024.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../HBuilderX.2.3.7.20191024.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../HBuilderX.2.3.7.20191024.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX.2.3.7.20191024.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./l_refresh.vue?vue&type=template&id=607112e8&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  if (!_vm._isMounted) {\n    _vm.e0 = function($event) {\n      $event.stopPropagation()\n      $event.preventDefault()\n      return (function(e) {\n        return e.preventDefault()\n      })($event)\n    }\n  }\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../HBuilderX.2.3.7.20191024.full/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../HBuilderX.2.3.7.20191024.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../HBuilderX.2.3.7.20191024.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../HBuilderX.2.3.7.20191024.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX.2.3.7.20191024.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./l_refresh.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../HBuilderX.2.3.7.20191024.full/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../HBuilderX.2.3.7.20191024.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../HBuilderX.2.3.7.20191024.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../HBuilderX.2.3.7.20191024.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX.2.3.7.20191024.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./l_refresh.vue?vue&type=script&lang=js&\"","<template>\r\n\t <!-- @touchmove.stop.prevent=\"e => e.preventDefault()\" -->\r\n\t<view :class=\"['s-pull-scroll', customClass]\" @touchmove.stop.prevent=\"e => e.preventDefault()\">\r\n\t\t<scroll-view\r\n\t\t\t:id=\"scrollId\"\r\n\t\t\tclass=\"s-pull-scroll-view\"\r\n\t\t\t:class=\"{ 'is-fixed': fixed }\"\r\n\t\t\t:style=\"{ 'padding-top': padTop, 'padding-bottom': padBottom, top: 0, bottom: 0 }\"\r\n\t\t\t:scroll-top=\"scrollTop\"\r\n\t\t\t:scroll-with-animation=\"false\"\r\n\t\t\tscroll-y=\"true\"\r\n\t\t\t:enable-back-to-top=\"true\"\r\n\t\t\t@scroll=\"scroll\"\r\n\t\t\t@touchstart=\"touchstart\"\r\n\t\t\t@touchmove=\"touchmove\"\r\n\t\t\t@touchend=\"touchend\"\r\n\t\t\t@touchcancel=\"touchend\"\r\n\t\t>\r\n\t\t<!-- ,{ 'background-color': bgColor} -->\r\n\t\t\t<!-- <view :style=\"\"> -->\r\n\t\t\t<view :style=\"{ transform: translateY, transition: transition }\">\r\n\t\t\t\t<view class=\"s-pull-down-wrap\" :style=\"{ height: downOffset + 'rpx' }\">\r\n\t\t\t\t\t<image v-if=\"!isDownLoading\" class=\"refresh-icon\" :src=\"refreshIcon\" :class=\"{ 'refresh-icon-active': isDownReset }\"></image>\r\n\t\t\t\t\t<view v-else class=\"s-pull-loading-icon\" :class=\"{ 's-pull-loading-rotate': isDownLoading }\" :style=\"{ transform: downRotate }\"></view>\r\n\t\t\t\t\t<view>{{ downText }}</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<slot></slot>\r\n\t\t\t\t<view v-if=\"isUpLoading\" class=\"s-pull-up-wrap\">\r\n\t\t\t\t\t<view class=\"s-pull-loading-icon s-pull-loading-rotate\"></view>\r\n\t\t\t\t\t<view>{{ loadingText }}</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<slot v-if=\"isEmpty\" name=\"empty\">\r\n\t\t\t\t\t<view class=\"s-pull-tip-wrap\" v-if=\"emptyText\">{{ emptyText }}</view>\r\n\t\t\t\t</slot>\r\n\t\t\t\t<slot v-else-if=\"isError\" name=\"error\">\r\n\t\t\t\t\t<view class=\"s-pull-tip-wrap\" v-if=\"errorText\" @click=\"onErrorClick\">{{ errorText }}</view>\r\n\t\t\t\t</slot>\r\n\t\t\t\t<slot v-else-if=\"isFinish\" name=\"finish\">\r\n\t\t\t\t\t<view class=\"s-pull-tip-wrap\" v-if=\"finishText && isShowFinishText\">{{ finishText }}</view>\r\n\t\t\t\t</slot>\r\n\t\t\t</view>\r\n\t\t</scroll-view>\r\n\t\t<!-- 回到顶部按钮 (fixed元素,需写在scroll-view外面,防止滚动的时候抖动)-->\r\n\t\t<view v-if=\"backTop\" :class=\"['s-pull-back-top', { show: isShowBackTop }]\" @click=\"onBackTop\">\r\n\t\t\t<slot name=\"backtop\">\r\n\t\t\t\t<view class=\"default-back-top\">\r\n\t\t\t\t\t<image src=\"../../static/pngs/back-top.png\" mode=\"\"></image>\r\n\t\t\t\t</view>\r\n\t\t\t</slot>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n\tname: 'l-pull-scroll',\r\n\tdata() {\r\n\t\tObject.assign(this, {\r\n\t\t\tpullType: '',\r\n\t\t\tscrollRealTop: 0, // 滚动条的位置\r\n\t\t\tpreScrollY: 0,\r\n\t\t\tclientNum: 0,\r\n\t\t\tisExec: false,\r\n\t\t\tscrollHeight: 0,\r\n\t\t\tclientHeight: 0,\r\n\t\t\tbodyHeight: 0,\r\n\t\t\twindowTop: 0, // 可使用窗口的顶部位置\r\n\t\t\twindowBottom: 0, // 可使用窗口的底部位置\r\n\t\t\tpage: 0,\r\n\t\t\tstartPoint: null,\r\n\t\t\tlastPoint: null,\r\n\t\t\tstartTop: 0,\r\n\t\t\tmaxTouchmoveY: 0,\r\n\t\t\tinTouchend: false,\r\n\t\t\tmoveTime: 0,\r\n\t\t\tmoveTimeDiff: 0,\r\n\t\t\tmovetype: 0,\r\n\t\t\tisMoveDown: false,\r\n\t\t\trefreshIcon:\r\n\t\t\t\t'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAMAAABg3Am1AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAB5QTFRFcHBw3Nzct7e39vb2ycnJioqK7e3tpqam29vb////D8oK7wAAAAp0Uk5T////////////ALLMLM8AAABxSURBVHja7JVBDoAgDASrjqj//7CJBi90iyYeOHTPMwmFZrHjYyyFYYUy1bwUZqtJIYVxhf1a6u0R7iUvWsCcrEtwJHp8MwMdvh2amHduiZD3rpWId9+BgPd7Cc2LIkPyqvlQvKxKBJ//Qwq/CacAAwDUv0a0YuKhzgAAAABJRU5ErkJggg=='\r\n\t\t});\r\n\t\treturn {\r\n\t\t\tscrollId:\r\n\t\t\t\t's-pull-scroll-view-id-' +\r\n\t\t\t\tMath.random()\r\n\t\t\t\t\t.toString(36)\r\n\t\t\t\t\t.substr(2), // 随机生成mescroll的id(不能数字开头,否则找不到元素)\r\n\t\t\tdownHight: 0, // 下拉刷新: 容器高度\r\n\t\t\tdownRotate: 0, // 下拉刷新: 圆形进度条旋转的角度\r\n\t\t\tdownText: '', // 下拉刷新: 提示的文本\r\n\t\t\tisDownReset: false, // 下拉刷新: 是否显示重置的过渡动画\r\n\t\t\tisDownLoading: false, // 下拉刷新: 是否显示加载中\r\n\t\t\tisUpLoading: false, // 上拉加载: 是否显示 \"加载中...\"\r\n\t\t\tisFinish: false, // 是否加载完毕\r\n\t\t\tisEmpty: false, // 是否显示空布局\r\n\t\t\tisError: false, // 是否加载出错\r\n\t\t\tisShowBackTop: false, // 是否显示回到顶部按钮\r\n\t\t\tscrollAble: true, // 是否禁止下滑 (下拉时禁止,避免抖动)\r\n\t\t\tscrollTop: 0, // 滚动条的位置\r\n\t\t\tisShowFinishText: false\r\n\t\t};\r\n\t},\r\n\tprops: {\r\n\t\t// class\r\n\t\tcustomClass: {\r\n\t\t\ttype: String,\r\n\t\t\tdefault: ''\r\n\t\t},\r\n\t\t// 是否通过fixed固定高度, 默认true\r\n\t\tfixed: {\r\n\t\t\ttype: Boolean,\r\n\t\t\tdefault: true\r\n\t\t},\r\n\t\t// 距顶部(rpx)\r\n\t\ttop: {\r\n\t\t\ttype: [Number, Array, String],\r\n\t\t\tdefault() {\r\n\t\t\t\treturn 0;\r\n\t\t\t}\r\n\t\t},\r\n\t\tbgColor: {\r\n\t\t\ttype: String,\r\n\t\t\tdefault:''\r\n\t\t},\r\n\t\t// 距底部(rpx)\r\n\t\tbottom: {\r\n\t\t\ttype: [Number, Array, String],\r\n\t\t\tdefault() {\r\n\t\t\t\treturn 0;\r\n\t\t\t}\r\n\t\t},\r\n\t\t// 提示文案\r\n\t\tloadingText: {\r\n\t\t\ttype: String,\r\n\t\t\tdefault: '加载中...'\r\n\t\t},\r\n\t\tpullingText: {\r\n\t\t\ttype: String,\r\n\t\t\tdefault: '下拉刷新'\r\n\t\t},\r\n\t\tloosingText: {\r\n\t\t\ttype: String,\r\n\t\t\tdefault: '释放刷新'\r\n\t\t},\r\n\t\tfinishText: {\r\n\t\t\ttype: String,\r\n\t\t\tdefault: '暂无更多了'\r\n\t\t},\r\n\t\temptyText: {\r\n\t\t\ttype: String,\r\n\t\t\tdefault: '没有更多数据了'\r\n\t\t},\r\n\t\terrorText: {\r\n\t\t\ttype: String,\r\n\t\t\tdefault: '加载失败，点击重新加载'\r\n\t\t},\r\n\t\t// 下拉刷新成功文案\r\n\t\tdownSuccessText: {\r\n\t\t\ttype: String,\r\n\t\t\tdefault: '刷新成功'\r\n\t\t},\r\n\t\t// 下拉配置\r\n\t\t// 下拉回掉，参数为vm\r\n\t\tpullDown: Function,\r\n\t\tdownOffset: {\r\n\t\t\ttype: Number,\r\n\t\t\tdefault: 100\r\n\t\t},\r\n\t\tdownFps: {\r\n\t\t\ttype: Number,\r\n\t\t\tdefault: 40\r\n\t\t},\r\n\t\tdownMinAngle: {\r\n\t\t\ttype: Number,\r\n\t\t\tdefault: 45\r\n\t\t},\r\n\t\tdownInOffsetRate: {\r\n\t\t\ttype: Number,\r\n\t\t\tdefault: 1\r\n\t\t},\r\n\t\tdownOutOffsetRate: {\r\n\t\t\ttype: Number,\r\n\t\t\tdefault: 0.4\r\n\t\t},\r\n\t\tdownStartTop: {\r\n\t\t\ttype: Number,\r\n\t\t\tdefault: 100\r\n\t\t},\r\n\t\tdownBottomOffset: {\r\n\t\t\ttype: Number,\r\n\t\t\tdefault: 20\r\n\t\t},\r\n\t\t// 上拉配置\r\n\t\t// 上拉回掉，参数为vm\r\n\t\tpullUp: Function,\r\n\t\tupOffset: {\r\n\t\t\ttype: Number,\r\n\t\t\tdefault: 160\r\n\t\t},\r\n\t\t// 回到顶部\r\n\t\tbackTop: Boolean,\r\n\t\tbackTopOffset: {\r\n\t\t\ttype: Number,\r\n\t\t\tdefault: 1000\r\n\t\t}\r\n\t},\r\n\twatch: {\r\n\t\ttop() {\r\n\t\t\tthis.refreshClientHeight();\r\n\t\t},\r\n\t\tbottom() {\r\n\t\t\tthis.refreshClientHeight();\r\n\t\t}\r\n\t},\r\n\tcomputed: {\r\n\t\t// top数值,单位rpx,需转成px. 目的是使下拉布局往下偏移\r\n\t\tnumTop() {\r\n\t\t\treturn (Array.isArray(this.top) ? this.top : [this.top]).map(num => uni.upx2px(Number(num || 0))).reduce((a, b) => a + b) || 0;\r\n\t\t},\r\n\t\t// bottom数值,单位rpx,需转成px 目的是使上拉布局往上偏移\r\n\t\tnumBottom() {\r\n\t\t\treturn (Array.isArray(this.bottom) ? this.bottom : [this.bottom]).map(num => uni.upx2px(Number(num || 0))).reduce((a, b) => a + b) || 0;\r\n\t\t},\r\n\t\tnumBackTopOffset() {\r\n\t\t\treturn uni.upx2px(Number(this.backTopOffset || 0));\r\n\t\t},\r\n\t\tnumDownBottomOffset() {\r\n\t\t\treturn uni.upx2px(Number(this.downBottomOffset || 0));\r\n\t\t},\r\n\t\tnumDownStartTop() {\r\n\t\t\treturn uni.upx2px(Number(this.downStartTop || 0));\r\n\t\t},\r\n\t\tnumDownOffset() {\r\n\t\t\treturn uni.upx2px(Number(this.downOffset || 0));\r\n\t\t},\r\n\t\tnumUpOffset() {\r\n\t\t\treturn uni.upx2px(Number(this.upOffset || 0));\r\n\t\t},\r\n\t\tfixedTop() {\r\n\t\t\treturn this.fixed ? this.numTop + this.windowTop + 'px' : 0;\r\n\t\t},\r\n\t\tpadTop() {\r\n\t\t\treturn !this.fixed ? this.numTop + 'px' : 0;\r\n\t\t},\r\n\t\tfixedBottom() {\r\n\t\t\treturn this.fixed ? this.numBottom + this.windowBottom + 'px' : 0;\r\n\t\t},\r\n\t\tpadBottom() {\r\n\t\t\treturn !this.fixed ? this.numBottom + 'px' : 0;\r\n\t\t},\r\n\t\t// 过渡\r\n\t\ttransition() {\r\n\t\t\treturn this.isDownReset ? 'transform 300ms' : '';\r\n\t\t},\r\n\t\ttranslateY() {\r\n\t\t\treturn this.downHight > 0 ? 'translateY(' + this.downHight + 'px)' : ''; // transform会使fixed失效,需注意把fixed元素写在mescroll之外\r\n\t\t}\r\n\t},\r\n\tmethods: {\r\n\t\t// 注册列表滚动事件,用于下拉刷新\r\n\t\tscroll(e) {\r\n\t\t\tthis.$emit('changeIsScroll',e)\r\n\t\t\te = e.detail;\r\n\t\t\t// 更新滚动条的位置\r\n\t\t\tthis.scrollRealTop = e.scrollTop;\r\n\t\t\t// 更新滚动内容高度\r\n\t\t\tthis.scrollHeight = e.scrollHeight;\r\n\t\t\t// 向上滑还是向下滑动\r\n\t\t\tconst isScrollUp = e.scrollTop - this.preScrollY > 0;\r\n\t\t\tthis.preScrollY = e.scrollTop;\r\n\t\t\t// 上滑 && 检查并触发上拉\r\n\t\t\tisScrollUp && this.triggerPullUp(true);\r\n\t\t\t// 回到顶部功能\r\n\t\t\tif (this.backTop) {\r\n\t\t\t\t// 返回顶部按钮的显示隐藏\r\n\t\t\t\tif (e.scrollTop >= this.numBackTopOffset) {\r\n\t\t\t\t\tthis.isShowBackTop = true;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.isShowBackTop = false;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\t// 注册列表touchstart事件,用于下拉刷新\r\n\t\ttouchstart(e) {\r\n\t\t\tif (!this.pullDown) return;\r\n\t\t\tthis.startPoint = this.getPoint(e); // 记录起点\r\n\t\t\tthis.startTop = this.scrollRealTop; // 记录此时的滚动条位置\r\n\t\t\tthis.lastPoint = this.startPoint; // 重置上次move的点\r\n\t\t\tthis.maxTouchmoveY = this.bodyHeight - this.numDownBottomOffset; // 手指触摸的最大范围(写在touchstart避免body获取高度为0的情况)\r\n\t\t\tthis.inTouchend = false; // 标记不是touchend\r\n\t\t},\r\n\t\t// 注册列表touchmove事件,用于下拉刷新\r\n\t\ttouchmove(e) {\r\n\t\t\tif (!this.pullDown) return;\r\n\t\t\tif (!this.startPoint) return;\r\n\t\t\t// 节流\r\n\t\t\tconst t = Date.now();\r\n\t\t\tif (this.moveTime && t - this.moveTime < this.moveTimeDiff) {\r\n\t\t\t\t// 小于节流时间,则不处理\r\n\t\t\t\treturn;\r\n\t\t\t} else {\r\n\t\t\t\tthis.moveTime = t;\r\n\t\t\t\tthis.moveTimeDiff = 1000 / this.downFps;\r\n\t\t\t}\r\n\r\n\t\t\tlet scrollRealTop = this.scrollRealTop; // 当前滚动条的距离\r\n\t\t\tlet curPoint = this.getPoint(e); // 当前点\r\n\r\n\t\t\tlet moveY = curPoint.y - this.startPoint.y; // 和起点比,移动的距离,大于0向下拉,小于0向上拉\r\n\r\n\t\t\t// (向下拉&&在顶部) scroll-view在滚动时不会触发touchmove,当触顶/底/左/右时,才会触发touchmove\r\n\t\t\t// scroll-view滚动到顶部时,scrollTop不一定为0; 在iOS的APP中scrollTop可能为负数,不一定和startTop相等\r\n\t\t\tif (moveY > 0 && (scrollRealTop <= 0 || (scrollRealTop <= this.numDownStartTop && scrollRealTop === this.startTop))) {\r\n\t\t\t\t// 可下拉的条件\r\n\t\t\t\tif (this.pullDown && !this.inTouchend && !this.isDownLoading && !this.isUpLoading) {\r\n\t\t\t\t\t// 下拉的角度是否在配置的范围内\r\n\t\t\t\t\tlet x = Math.abs(this.lastPoint.x - curPoint.x);\r\n\t\t\t\t\tlet y = Math.abs(this.lastPoint.y - curPoint.y);\r\n\t\t\t\t\tlet z = Math.sqrt(x * x + y * y);\r\n\t\t\t\t\tif (z !== 0) {\r\n\t\t\t\t\t\tlet angle = (Math.asin(y / z) / Math.PI) * 180; // 两点之间的角度,区间 [0,90]\r\n\t\t\t\t\t\tif (angle < this.downMinAngle) return; // 如果小于配置的角度,则不往下执行下拉刷新\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// 如果手指的位置超过配置的距离,则提前结束下拉,避免Webview嵌套导致touchend无法触发\r\n\t\t\t\t\tif (this.maxTouchmoveY > 0 && curPoint.y >= this.maxTouchmoveY) {\r\n\t\t\t\t\t\tthis.inTouchend = true; // 标记执行touchend\r\n\t\t\t\t\t\tthis.touchend(); // 提前触发touchend\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tthis.preventDefault(e); // 阻止默认事件\r\n\r\n\t\t\t\t\tlet diff = curPoint.y - this.lastPoint.y; // 和上次比,移动的距离 (大于0向下,小于0向上)\r\n\r\n\t\t\t\t\t// 下拉距离  < 指定距离\r\n\t\t\t\t\tif (this.downHight < this.numDownOffset) {\r\n\t\t\t\t\t\tif (this.movetype !== 1) {\r\n\t\t\t\t\t\t\tthis.movetype = 1; // 加入标记,保证只执行一次\r\n\t\t\t\t\t\t\t// 下拉的距离进入offset范围内那一刻的回调\r\n\t\t\t\t\t\t\tthis.scrollAble = false; // 禁止下拉,避免抖动 (自定义mescroll组件时,此行不可删)\r\n\t\t\t\t\t\t\tthis.isDownReset = false; // 不重置高度 (自定义mescroll组件时,此行不可删)\r\n\t\t\t\t\t\t\tthis.isDownLoading = false; // 不显示加载中\r\n\t\t\t\t\t\t\tthis.downText = this.pullingText; // 设置文本\r\n\t\t\t\t\t\t\tthis.isMoveDown = true; // 标记下拉区域高度改变,在touchend重置回来\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthis.downHight += diff * this.downInOffsetRate; // 越往下,高度变化越小\r\n\t\t\t\t\t\t// 指定距离  <= 下拉距离\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tif (this.movetype !== 2) {\r\n\t\t\t\t\t\t\tthis.movetype = 2; // 加入标记,保证只执行一次\r\n\t\t\t\t\t\t\t// 下拉的距离大于offset那一刻的回调\r\n\t\t\t\t\t\t\tthis.scrollAble = false; // 禁止下拉,避免抖动 (自定义mescroll组件时,此行不可删)\r\n\t\t\t\t\t\t\tthis.isDownReset = false; // 不重置高度 (自定义mescroll组件时,此行不可删)\r\n\t\t\t\t\t\t\tthis.isDownLoading = false; // 不显示加载中\r\n\t\t\t\t\t\t\tthis.downText = this.loosingText; // 设置文本\r\n\t\t\t\t\t\t\tthis.isMoveDown = true; // 标记下拉区域高度改变,在touchend重置回来\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (diff > 0) {\r\n\t\t\t\t\t\t\t// 向下拉\r\n\t\t\t\t\t\t\tthis.downHight += Math.round(diff * this.downOutOffsetRate); // 越往下,高度变化越小\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t// 向上收\r\n\t\t\t\t\t\t\tthis.downHight += diff; // 向上收回高度,则向上滑多少收多少高度\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tlet rate = this.downHight / this.numDownOffset; // 下拉区域当前高度与指定距离的比值\r\n\t\t\t\t\t// 下拉过程中的回调,滑动过程一直在执行; rate下拉区域当前高度与指定距离的比值(inOffset: rate<1; outOffset: rate>=1); downHight当前下拉区域的高度\r\n\t\t\t\t\tthis.downRotate = 'rotate(' + 360 * rate + 'deg)'; // 设置旋转角度\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tthis.lastPoint = curPoint; // 记录本次移动的点\r\n\t\t},\r\n\t\t// 注册列表touchend事件,用于下拉刷新\r\n\t\ttouchend(e) {\r\n\t\t\tif (!this.pullDown) return;\r\n\t\t\t// 如果下拉区域高度已改变,则需重置回来\r\n\t\t\tif (this.isMoveDown) {\r\n\t\t\t\tif (this.downHight >= this.numDownOffset) {\r\n\t\t\t\t\t// 符合触发刷新的条件\r\n\t\t\t\t\tthis.triggerPullDown();\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// 不符合的话 则重置\r\n\t\t\t\t\tthis.downHight = 0;\r\n\t\t\t\t\tthis.scrollAble = true; // 开启下拉 (自定义mescroll组件时,此行不可删)\r\n\t\t\t\t\tthis.isDownReset = true; // 重置高度 (自定义mescroll组件时,此行不可删)\r\n\t\t\t\t\tthis.isDownLoading = false; // 不显示加载中\r\n\t\t\t\t}\r\n\t\t\t\tthis.movetype = 0;\r\n\t\t\t\tthis.isMoveDown = false;\r\n\t\t\t} else if (this.scrollRealTop === this.startTop) {\r\n\t\t\t\t// 到顶/左/右/底的滑动事件\r\n\t\t\t\tconst isScrollUp = this.getPoint(e).y - this.startPoint.y < 0; // 和起点比,移动的距离,大于0向下拉,小于0向上拉\r\n\t\t\t\t// 上滑 && 检查并触发上拉\r\n\t\t\t\tisScrollUp && this.triggerPullUp(true);\r\n\t\t\t}\r\n\t\t},\r\n\t\tpreventDefault(e) {\r\n\t\t\t// 小程序不支持e.preventDefault\r\n\t\t\t// app的bounce只能通过配置pages.json的style.app-plus.bounce为\"none\"来禁止\r\n\t\t\t// cancelable:是否可以被禁用; defaultPrevented:是否已经被禁用\r\n\t\t\tif (e && e.cancelable && !e.defaultPrevented) e.preventDefault();\r\n\t\t},\r\n\t\t// 点击回到顶部的按钮回调\r\n\t\tonBackTop() {\r\n\t\t\tthis.isShowBackTop = false; // 回到顶部按钮需要先隐藏,再执行回到顶部,避免闪动\r\n\t\t\tthis.scrollTo(0); // 执行回到顶部\r\n\t\t},\r\n\t\t// 点击失败重新加载\r\n\t\tonErrorClick() {\r\n\t\t\tthis.isError = false;\r\n\t\t\tif (this.pullType === 'down') {\r\n\t\t\t\tthis.triggerPullDown();\r\n\t\t\t} else if (this.pullType === 'up') {\r\n\t\t\t\tthis.triggerPullUp();\r\n\t\t\t}\r\n\t\t},\r\n\t\tscrollTo(y) {\r\n\t\t\tthis.scrollTop = this.scrollRealTop;\r\n\t\t\tthis.$nextTick(() => {\r\n\t\t\t\tthis.scrollTop = y;\r\n\t\t\t});\r\n\t\t},\r\n\t\t/* 根据点击滑动事件获取第一个手指的坐标 */\r\n\t\tgetPoint(e) {\r\n\t\t\tif (!e) {\r\n\t\t\t\treturn {\r\n\t\t\t\t\tx: 0,\r\n\t\t\t\t\ty: 0\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t\tif (e.touches && e.touches[0]) {\r\n\t\t\t\treturn {\r\n\t\t\t\t\tx: e.touches[0].pageX,\r\n\t\t\t\t\ty: e.touches[0].pageY\r\n\t\t\t\t};\r\n\t\t\t} else if (e.changedTouches && e.changedTouches[0]) {\r\n\t\t\t\treturn {\r\n\t\t\t\t\tx: e.changedTouches[0].pageX,\r\n\t\t\t\t\ty: e.changedTouches[0].pageY\r\n\t\t\t\t};\r\n\t\t\t} else {\r\n\t\t\t\treturn {\r\n\t\t\t\t\tx: e.clientX,\r\n\t\t\t\t\ty: e.clientY\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t},\r\n\t\t/* 滚动条到底部的距离 */\r\n\t\tgetScrollBottom() {\r\n\t\t\treturn this.scrollHeight - this.getClientHeight() - this.scrollRealTop;\r\n\t\t},\r\n\t\t/* 滚动容器的高度 */\r\n\t\tgetClientHeight(isReal) {\r\n\t\t\tlet h = this.clientHeight || 0;\r\n\t\t\tif (h === 0 && isReal !== true) {\r\n\t\t\t\t// 未获取到容器的高度,可临时取body的高度 (可能会有误差)\r\n\t\t\t\th = this.bodyHeight;\r\n\t\t\t}\r\n\t\t\treturn h;\r\n\t\t},\r\n\t\t/* 更新滚动区域的高度 (使内容不满屏和到底,都可继续翻页) */\r\n\t\trefreshClientHeight() {\r\n\t\t\tif (!this.isExec) {\r\n\t\t\t\tthis.isExec = true; // 避免多次获取\r\n\t\t\t\tthis.$nextTick(() => {\r\n\t\t\t\t\t// 确保dom已渲染\r\n\t\t\t\t\tuni.createSelectorQuery()\r\n\t\t\t\t\t\t.in(this)\r\n\t\t\t\t\t\t.select('#' + this.scrollId)\r\n\t\t\t\t\t\t.boundingClientRect(data => {\r\n\t\t\t\t\t\t\tthis.isExec = false;\r\n\t\t\t\t\t\t\tif (data) {\r\n\t\t\t\t\t\t\t\tthis.clientHeight = data.height;\r\n\t\t\t\t\t\t\t} else if (this.clientNum != 3) {\r\n\t\t\t\t\t\t\t\t// 极少部分情况,可能dom还未渲染完毕,递归获取,最多重试3次\r\n\t\t\t\t\t\t\t\tthis.clientNum = this.clientNum == 0 ? 1 : this.clientNum + 1;\r\n\t\t\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\t\t\tthis.refreshClientHeight();\r\n\t\t\t\t\t\t\t\t}, this.clientNum * 100);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.exec();\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t},\r\n\t\t/* 显示下拉进度布局 */\r\n\t\tshowDownLoading() {\r\n\t\t\tthis.isEmpty = false;\r\n\t\t\tthis.isError = false;\r\n\t\t\tthis.isFinish = false;\r\n\t\t\tthis.isDownLoading = true; // 显示加载中\r\n\t\t\tthis.downHight = this.numDownOffset; // 更新下拉区域高度\r\n\t\t\tthis.scrollAble = true; // 开启下拉 (自定义mescroll组件时,此行不可删)\r\n\t\t\tthis.isDownReset = true; // 重置高度 (自定义mescroll组件时,此行不可删)\r\n\t\t\tthis.downText = this.loadingText; // 设置文本\r\n\t\t},\r\n\t\t/* 显示上拉加载中 */\r\n\t\tshowUpLoading() {\r\n\t\t\tthis.isEmpty = false;\r\n\t\t\tthis.isError = false;\r\n\t\t\tthis.isFinish = false;\r\n\t\t\tthis.isUpLoading = true;\r\n\t\t},\r\n\t\t/* 结束下拉刷新 */\r\n\t\thideDownLoading() {\r\n\t\t\tthis.$nextTick(() => {\r\n\t\t\t\tthis.downHight = 0;\r\n\t\t\t\tthis.scrollAble = true; // 开启下拉 (自定义mescroll组件时,此行不可删)\r\n\t\t\t\tthis.isDownReset = true; // 重置高度 (自定义mescroll组件时,此行不可删)\r\n\t\t\t\tthis.isDownLoading = false; // 不显示加载中\r\n\t\t\t\tthis.downHight = 0; // 设置下拉区域的高度 (自定义mescroll组件时,此行不可删)\r\n\t\t\t\tthis.scrollHeight = 0; // 重置滚动区域,使数据不满屏时仍可检查触发翻页\r\n\t\t\t\tthis.downText = this.downSuccessText\r\n\t\t\t});\r\n\t\t},\r\n\t\t/* 结束上拉加载 */\r\n\t\thideUpLoading() {\r\n\t\t\tthis.$nextTick(() => {\r\n\t\t\t\tthis.isUpLoading = false;\r\n\t\t\t});\r\n\t\t},\r\n\t\t/* 触发下拉刷新 */\r\n\t\ttriggerPullDown() {\r\n\t\t\tif (this.pullDown && !this.isDownLoading && !this.isUpLoading) {\r\n\t\t\t\t// 下拉加载中...\r\n\t\t\t\tthis.showDownLoading(); // 下拉刷新中...\r\n\t\t\t\tthis.page = 1; // 预先加一页\r\n\t\t\t\tthis.pullType = 'down';\r\n\t\t\t\tthis.pullDown && this.pullDown.call(this.$parent, this);\r\n\t\t\t}\r\n\t\t},\r\n\t\t/* 触发上拉加载 */\r\n\t\ttriggerPullUp(isCheck) {\r\n\t\t\tif (this.pullUp && !this.isUpLoading && !this.isDownLoading && !this.isError && !this.isFinish) {\r\n\t\t\t\t// 是否校验在底部; 默认不校验\r\n\t\t\t\tif (isCheck && this.getScrollBottom() > this.numUpOffset) return;\r\n\t\t\t\t// 上拉加载中...\r\n\t\t\t\tthis.showUpLoading();\r\n\t\t\t\tthis.page++;\r\n\t\t\t\tthis.pullType = 'up';\r\n\t\t\t\tthis.pullUp && this.pullUp.call(this.$parent, this);\r\n\t\t\t\t// 更新容器的高度\r\n\t\t\t\tthis.refreshClientHeight();\r\n\t\t\t}\r\n\t\t},\r\n\t\trefresh() {\r\n\t\t\tthis.page = 0;\r\n\t\t\tthis.isEmpty = false;\r\n\t\t\tthis.isError = false;\r\n\t\t\tthis.isFinish = false;\r\n\t\t\tthis.isDownLoading = false;\r\n\t\t\tthis.isUpLoading = false;\r\n\t\t\t// this.scrollTo(0);\r\n\t\t\t// if (this.pullDown) {\r\n\t\t\t// \tthis.triggerPullDown();\r\n\t\t\t// } else if (this.pullUp) {\r\n\t\t\t// \tthis.triggerPullUp();\r\n\t\t\t// }\r\n\t\t},\r\n\t\t/* 正常加载成功 */\r\n\t\tsuccess() {\r\n\t\t\tthis.hideDownLoading();\r\n\t\t\tthis.hideUpLoading();\r\n\t\t},\r\n\t\t/* 加载失败 */\r\n\t\terror() {\r\n\t\t\tthis.hideDownLoading();\r\n\t\t\tthis.hideUpLoading();\r\n\t\t\tthis.page--;\r\n\t\t\tthis.isError = true;\r\n\t\t},\r\n\t\t/* 没有数据 */\r\n\t\tempty() {\r\n\t\t\tthis.hideDownLoading();\r\n\t\t\tthis.hideUpLoading();\r\n\t\t\tthis.isEmpty = true;\r\n\t\t\tthis.isFinish = true;\r\n\t\t},\r\n\t\t/* 全部数据加载完毕 */\r\n\t\tfinish(isShowFinishText = true) {\r\n\t\t\tthis.hideDownLoading();\r\n\t\t\tthis.hideUpLoading();\r\n\t\t\tthis.isFinish = true;\r\n\t\t\tthis.isShowFinishText = !!isShowFinishText;\r\n\t\t}\r\n\t},\r\n\t// 使用created初始化mescroll对象; 如果用mounted部分css样式编译到H5会失效\r\n\tcreated() {\r\n\t\t// 设置高度\r\n\t\tuni.getSystemInfo({\r\n\t\t\tsuccess: res => {\r\n\t\t\t\tif (res.windowTop) this.windowTop = res.windowTop; // 修正app和H5的top值\r\n\t\t\t\tif (res.windowBottom) this.windowBottom = res.windowBottom; // 修正app和H5的bottom值\r\n\t\t\t\tthis.bodyHeight = res.windowHeight; // 使down的bottomOffset生效\r\n\t\t\t}\r\n\t\t});\r\n\t},\r\n\tmounted() {\r\n\t\t// 设置容器的高度\r\n\t\tthis.refreshClientHeight = this.refreshClientHeight.bind(this);\r\n\t\tuni.onWindowResize(this.refreshClientHeight);\r\n\t\tthis.refreshClientHeight();\r\n\t},\r\n\tbeforeDestroy() {\r\n\t\tuni.offWindowResize(this.refreshClientHeight);\r\n\t}\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.s-pull-scroll {\r\n\theight: 100%;\r\n\t-webkit-overflow-scrolling: touch;\r\n\t.s-pull-scroll-view {\r\n\t\tposition: relative;\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t\toverflow-y: auto;\r\n\t\tbox-sizing: border-box;\r\n\t}\r\n\t.refresh-icon {\r\n\t\twidth: 32px;\r\n\t\theight: 32px;\r\n\t\ttransition-duration: 0.5s;\r\n\t\ttransition-property: transform;\r\n\t\ttransform: rotate(0deg);\r\n\t\ttransform-origin: 15px 15px;\r\n\t}\r\n\t.refresh-icon-active {\r\n\t\ttransform: rotate(180deg);\r\n\t}\r\n\t.loading-icon {\r\n\t\twidth: 28px;\r\n\t\theight: 28px;\r\n\t\tmargin-right: 5px;\r\n\t\tcolor: gray;\r\n\t}\r\n\t/* 定位的方式固定高度 */\r\n\t.is-fixed {\r\n\t\tz-index: 10;\r\n\t\tposition: fixed;\r\n\t\ttop: 0;\r\n\t\tleft: 0;\r\n\t\tright: 0;\r\n\t\tbottom: 0;\r\n\t\twidth: auto;\r\n\t\theight: auto;\r\n\t}\r\n\t.s-pull-down-wrap,\r\n\t.s-pull-up-wrap,\r\n\t.s-pull-tip-wrap {\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: center;\r\n\t\talign-items: center;\r\n\t\tfont-size: 28rpx;\r\n\t\tcolor: #969799;\r\n\t}\r\n\t.s-pull-down-wrap {\r\n\t\tposition: absolute;\r\n\t\tleft: 0;\r\n\t\twidth: 100%;\r\n\t\ttransform: translateY(-100%);\r\n\t}\r\n\t.s-pull-up-wrap,\r\n\t.s-pull-tip-wrap {\r\n\t\theight: 100rpx;\r\n\t}\r\n\t/* 旋转loading */\r\n\t.s-pull-loading-icon {\r\n\t\twidth: 30rpx;\r\n\t\theight: 30rpx;\r\n\t\tdisplay: inline-block;\r\n\t\tvertical-align: middle;\r\n\t\tborder-radius: 50%;\r\n\t\tborder: 2rpx solid #969799;\r\n\t\tborder-bottom-color: transparent;\r\n\t\tbox-sizing: border-box;\r\n\t\t&:first-child {\r\n\t\t\tmargin-right: 16rpx;\r\n\t\t}\r\n\t}\r\n\t/* 旋转动画 */\r\n\t.s-pull-loading-rotate {\r\n\t\tanimation: s-pull-loading-rotate 0.6s linear infinite;\r\n\t}\r\n\r\n\t@keyframes s-pull-loading-rotate {\r\n\t\t0% {\r\n\t\t\ttransform: rotate(0deg);\r\n\t\t}\r\n\r\n\t\t100% {\r\n\t\t\ttransform: rotate(360deg);\r\n\t\t}\r\n\t}\r\n\r\n\t/* 回到顶部的按钮 */\r\n\t.s-pull-back-top {\r\n\t\tposition: relative;\r\n\t\tz-index: 99;\r\n\t\topacity: 0;\r\n\t\tpointer-events: none;\r\n\t\ttransition: opacity 0.3s linear;\r\n\t\t&.show {\r\n\t\t\topacity: 1;\r\n\t\t\tpointer-events: auto;\r\n\t\t}\r\n\t}\r\n\t.default-back-top {\r\n\t\tposition: fixed;\r\n\t\tright: 20rpx;\r\n\t\tbottom: calc(var(--window-bottom) + 15rpx);\r\n\r\n\t\timg,image {\r\n\t\t\twidth: 72rpx;\r\n\t\t\theight: 72rpx;\r\n\t\t\tborder-radius: 50%;\r\n\t\t}\r\n\t}\r\n}\r\n</style>\n","import mod from \"-!../../../../HBuilderX.2.3.7.20191024.full/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../HBuilderX.2.3.7.20191024.full/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../HBuilderX.2.3.7.20191024.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../HBuilderX.2.3.7.20191024.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../HBuilderX.2.3.7.20191024.full/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../HBuilderX.2.3.7.20191024.full/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../HBuilderX.2.3.7.20191024.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../HBuilderX.2.3.7.20191024.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX.2.3.7.20191024.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./l_refresh.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../HBuilderX.2.3.7.20191024.full/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../HBuilderX.2.3.7.20191024.full/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../HBuilderX.2.3.7.20191024.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../HBuilderX.2.3.7.20191024.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../HBuilderX.2.3.7.20191024.full/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../HBuilderX.2.3.7.20191024.full/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../HBuilderX.2.3.7.20191024.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../HBuilderX.2.3.7.20191024.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX.2.3.7.20191024.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./l_refresh.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1592894611084\n      var cssReload = require(\"D:/HBuilderX.2.3.7.20191024.full/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}