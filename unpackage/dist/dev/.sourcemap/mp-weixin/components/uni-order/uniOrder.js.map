{"version":3,"sources":["webpack:///D:/uni-app项目/wxProject/components/uni-order/uniOrder.vue?e168","webpack:///D:/uni-app项目/wxProject/components/uni-order/uniOrder.vue?f1a5","webpack:///D:/uni-app项目/wxProject/components/uni-order/uniOrder.vue?64c9","webpack:///D:/uni-app项目/wxProject/components/uni-order/uniOrder.vue?643e","uni-app:///components/uni-order/uniOrder.vue","webpack:///D:/uni-app项目/wxProject/components/uni-order/uniOrder.vue?94f2","webpack:///D:/uni-app项目/wxProject/components/uni-order/uniOrder.vue?8a9c"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAiI;AACjI;AAC4D;AACL;AACsC;;;AAG7F;AACiM;AACjM,gBAAgB,2MAAU;AAC1B,EAAE,8EAAM;AACR,EAAE,+FAAM;AACR,EAAE,wGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,mGAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;;AAEP;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA,GAAG;;AAEH;;AAEA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACxDA;AAAA;AAAA;AAAA;AAA2vB,CAAgB,wwBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACmG/wB;AACA,oF;;AAEA;AACA;AACA,sBADA,EADA;;AAIA;AACA;AACA,4BADA;AAEA;AACA;AACA,OAJA,EADA;;AAOA;AACA,kBADA;AAEA;AACA;AACA,OAJA,EAPA;;AAaA;AACA,kBADA;AAEA;AACA;AACA,OAJA,EAbA;;AAmBA;AACA,kBADA;AAEA;AACA;AACA,OAJA,EAnBA,EAJA;;;AA8BA,MA9BA,kBA8BA;AACA;AACA;AACA,yCADA;AAEA,2CAFA;AAGA,2CAHA,CADA;;AAMA,mBANA,EAMA;AACA,iBAPA,EAOA;AACA,yDARA,EAQA;AACA,kBATA,EASA;AACA,6DAVA,EAUA;AACA,sDAXA,EAWA;AACA,2CAZA,EAYA;AACA,qBAbA,EAaA;AACA,kBAdA,EAcA;AACA,kBAfA,EAeA;AACA,mBAhBA;AAiBA,uBAjBA,EAiBA;AACA,sBAlBA,EAkBA;AACA,4BAnBA;AAoBA,qDApBA,EAoBA;AACA,kBArBA,EAqBA;AACA,wBAtBA;AAuBA,mBAvBA,EAuBA;AACA,qBAxBA,CAwBA;AAxBA;AA0BA,GAzDA;AA0DA;AACA,gBADA,wBACA,IADA,EACA,KADA,EACA;AACA;AACA;AACA;AACA,OAFA;AAGA;AACA,kBADA;AAEA,sBAFA;AAGA,2BAHA;;AAKA,KAXA;AAYA,cAZA,sBAYA,MAZA,EAYA,KAZA,EAYA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAPA;AAQA;AACA;AACA,OAbA;AAcA,KA3BA;AA4BA,UA5BA,oBA4BA;AACA;AACA;AACA;AACA;AACA,OAHA;AAIA,KAlCA;AAmCA,eAnCA,uBAmCA,OAnCA,EAmCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OANA;AAOA,KA3CA;AA4CA,WA5CA,qBA4CA;AACA,iGADA;AAEA,qCAFA;AAGA,+CAHA,SAGA,IAHA;AAIA,4CAJA;;;;AAQA,KApDA;AAqDA,oBArDA,4BAqDA,EArDA,EAqDA;AACA;AACA;AACA;AACA;AACA;AACA,OALA;AAMA,KA5DA;AA6DA,kBA7DA,0BA6DA,IA7DA,EA6DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAXA;;AAaA,KA7EA;AA8EA,eA9EA,yBA8EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAdA;;AAgBA,KA/FA;AAgGA,eAhGA,yBAgGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAdA;;AAgBA,KAjHA;AAkHA,cAlHA,sBAkHA,GAlHA,EAkHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAXA;;AAaA,KAhIA;AAiIA,YAjIA,oBAiIA,KAjIA,EAiIA;AACA,oEADA,CACA;AACA,6DAFA,CAEA;AACA,iDAHA,CAGA;AACA,6DAJA,CAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAXA,CAWA;AACA,6BAZA,CAYA;AACA;AACA,mFAdA,CAcA;AACA,KAhJA;AAiJA,cAjJA,sBAiJA,EAjJA,EAiJA;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA,+BAFA,CAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OALA;AAMA,KA9JA;AA+JA,YA/JA,oBA+JA,CA/JA,EA+JA;AACA;AACA;AACA,KAlKA;AAmKA,eAnKA,uBAmKA,CAnKA,EAmKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KA1KA;AA2KA,gBA3KA,wBA2KA,IA3KA,EA2KA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAlLA;AAmLA,gBAnLA,wBAmLA,IAnLA,EAmLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OATA;AAUA,KA9LA;AA+LA,WA/LA,qBA+LA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oDAHA;AAIA;AACA,wBALA;AAMA;AACA,uFADA;AAEA,+BAFA;AAGA;AACA,0CAJA,EANA;;AAYA;AACA;AACA;AACA;AACA;AACA,eAFA,MAEA;AACA;AACA;AACA;AACA,aARA,MAQA;AACA;AACA;AACA;AACA,WAzBA;AA0BA;AACA;AACA;AACA,WA7BA;AA8BA;AACA;AACA,WAhCA;;AAkCA,OAnCA;AAoCA,KAvOA;AAwOA,aAxOA,uBAwOA;AACA,wCADA,SACA,IADA;AAEA;AACA;AACA,wCAJA;AAKA,KA7OA;AA8OA,oBA9OA,4BA8OA,GA9OA,EA8OA;AACA,2CADA,CACA;AACA;AACA;AACA;AACA,OAFA;AAGA,gCANA,CAMA;AACA;AACA;AACA,OAFA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA,SALA;AAMA;AACA;AACA;AACA,OAVA;AAWA;AACA;AACA,OAFA;AAGA;AACA,KAvQA;AAwQA,mBAxQA,2BAwQA,GAxQA,EAwQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAVA;AAWA;AACA;AACA,OAFA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAhBA;AAiBA,OAlBA;AAmBA;AACA,KA5SA;AA6SA,kBA7SA,4BA6SA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OANA;AAOA;AACA,KAvTA;AAwTA,eAxTA,yBAwTA;AACA;AACA;AACA,KA3TA;AA4TA,oBA5TA,8BA4TA;AACA;AACA;AACA;AACA,OAFA;AAGA;AACA;AACA;AACA;AACA,KArUA;AAsUA,cAtUA,wBAsUA;AACA,8BADA,CACA;AACA;AACA;AACA,KA1UA;AA2UA;AACA,WA5UA,sBA4UA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2CAHA,CAGA;AACA;AACA;AACA;AACA;AACA,WARA;AASA;AACA,OAZA;AAaA;AACA,eADA;AAEA;AACA,eADA;AAEA,iBAFA;AAGA,sCAHA;AAIA,mCAJA,EAIA;AACA,4BALA,EAKA;AACA,8BANA;AAOA,2BAPA;AAQA,6BARA,EAFA;;AAYA,2BAZA;;AAcA;AACA,KA1WA;AA2WA,aA3WA,uBA2WA;AACA;AACA;AACA;AACA,OAFA;AAGA;AACA,KAjXA;AAkXA,YAlXA,oBAkXA,MAlXA,EAkXA;AACA;AACA;AACA,qDADA;AAEA;AACA;AACA,wBAJA;AAKA;AACA,0FADA;AAEA;AACA,gCAHA;AAIA;AACA;AALA,WALA;AAYA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAFA,MAEA;AACA;AACA;AACA,WAtBA;AAuBA;AACA;;AAEA,WA1BA;;AA4BA,OA7BA;AA8BA,KAjZA;AAkZA,OAlZA,iBAkZA;AACA,mCADA;AAEA,gEAFA;;;AAKA,uCALA;AAMA,sBANA,GAMA,iBANA;AAOA,+EAPA,SAOA,IAPA;AAQA;AACA;AACA,iCADA,GACA,kBADA;AAEA;AACA;AACA,4EAJA,CAIA;AA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","file":"components/uni-order/uniOrder.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./uniOrder.vue?vue&type=template&id=70b0fad7&scoped=true&\"\nvar renderjs\nimport script from \"./uniOrder.vue?vue&type=script&lang=js&\"\nexport * from \"./uniOrder.vue?vue&type=script&lang=js&\"\nimport style0 from \"./uniOrder.vue?vue&type=style&index=0&id=70b0fad7&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../HBuilderX.2.3.7.20191024.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"70b0fad7\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"components/uni-order/uniOrder.vue\"\nexport default component.exports","export * from \"-!../../../../HBuilderX.2.3.7.20191024.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../HBuilderX.2.3.7.20191024.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../HBuilderX.2.3.7.20191024.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../HBuilderX.2.3.7.20191024.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../HBuilderX.2.3.7.20191024.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX.2.3.7.20191024.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./uniOrder.vue?vue&type=template&id=70b0fad7&scoped=true&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var l2 = _vm.__map(_vm.newsList, function(tab, index1) {\n    var l1 = _vm.__map(_vm.dailyList, function(it, index2) {\n      var f0 = _vm._f(\"priceFormat\")(it.BILL_PAIDMONEY, 2, \"￥\", true)\n\n      var f1 = _vm._f(\"priceFormat\")(it.BILL_LEFTMONEY, 2, \"￥\", true)\n\n      var l0 = _vm.__map(it.child, function(item, index) {\n        var f2 = _vm._f(\"priceFormat\")(item.BILLDETAIL_PRICE, 2, \"￥\", true)\n\n        var f3 = _vm._f(\"priceFormat\")(\n          item.BILLDETAIL_TOTALMONEY,\n          2,\n          \"￥\",\n          true\n        )\n\n        return {\n          $orig: _vm.__get_orig(item),\n          f2: f2,\n          f3: f3\n        }\n      })\n\n      return {\n        $orig: _vm.__get_orig(it),\n        f0: f0,\n        f1: f1,\n        l0: l0\n      }\n    })\n\n    return {\n      $orig: _vm.__get_orig(tab),\n      l1: l1\n    }\n  })\n\n  var f4 = _vm._f(\"priceFormat\")(_vm.sales, 2, \"￥\", true)\n\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        l2: l2,\n        f4: f4\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../HBuilderX.2.3.7.20191024.full/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../HBuilderX.2.3.7.20191024.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../HBuilderX.2.3.7.20191024.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../HBuilderX.2.3.7.20191024.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX.2.3.7.20191024.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./uniOrder.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../HBuilderX.2.3.7.20191024.full/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../HBuilderX.2.3.7.20191024.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../HBuilderX.2.3.7.20191024.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../HBuilderX.2.3.7.20191024.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX.2.3.7.20191024.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./uniOrder.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"con-conent\">\r\n\t\t<view class=\"type\" v-if=\"pageSettlement != 0\">\r\n\t\t\t<block v-for=\"(item,index) in tabBars\" :key='index'>\r\n\t\t\t\t<view class=\"type-box\" :data-current=\"index\" @tap='ontabtap' :class=\"{'active-box':item.isTrue}\">{{item.name}}</view>\r\n\t\t\t</block>\r\n\t\t</view>\r\n\t\t<swiper class=\"swiper-box\" :current='tabIndex' :duration=\"300\"  :style=\"{ 'height':scrollHeight }\" @change=\"ontabchange\">\r\n\t\t\t<swiper-item v-for=\"(tab,index1) in newsList\" :key='index1'>\r\n\t\t\t\t<view class=\"dailycashlist\">\r\n\t\t\t\t\t<scroll-view  scroll-y=\"true\" @scrolltolower='refresh()' :style=\"{ 'height':scrollHeight }\" scroll-with-animation=\"true\">\r\n\t\t\t\t\t\t<view class=\"daily-list1\" v-for=\"(it,index2) in dailyList\" :key=\"index2\">\r\n\t\t\t\t\t\t\t<view class=\"daily-head\" style=\"padding: 20rpx 0;\">\r\n\t\t\t\t\t\t\t\t<view class=\"flex-box\">\r\n\t\t\t\t\t\t\t\t\t<view class=\"is-true\" :style=\"tabIndex == 2?'':'display: none;'\">\r\n\t\t\t\t\t\t\t\t\t\t<label @tap='changeCheckStatu(it.BILL_CODE)' v-show=\"pageSettlement!=0\">\r\n\t\t\t\t\t\t\t\t\t\t\t<checkbox :checked=\"it.isTrue\" ></checkbox>\r\n\t\t\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t<view class=\"title-box\">\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"daily-time\">开单日期: {{it.BILL_DATE_STR}}</view>\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"daily-time\">单号: {{it.BILL_CODE}}</view>\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"daily-time warning\">\r\n\t\t\t\t\t\t\t\t\t\t\t<text style=\"color: #4cd964;\">已结金额: {{it.BILL_PAIDMONEY|priceFormat(2,'￥',true)}}</text>\r\n\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"daily-time warning\" style=\"padding-bottom: 20rpx;\">\r\n\t\t\t\t\t\t\t\t\t\t\t<text>未结金额: {{it.BILL_LEFTMONEY|priceFormat(2,'￥',true)}}</text>\r\n\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t<view class=\"chekc-btn\">\r\n\t\t\t\t\t\t\t\t\t<view class=\"daily-status\">\r\n\t\t\t\t\t\t\t\t\t\t<view>\r\n\t\t\t\t\t\t\t\t\t\t\t<span class='text over' v-show='it.BILL_STATUS == 0'>待登账</span>\r\n\t\t\t\t\t\t\t\t\t\t\t<span class='text over' v-show='it.BILL_STATUS == 1'>已登账</span>\r\n\t\t\t\t\t\t\t\t\t\t\t<span class='text warning' v-show='it.BILL_STATUS == 2'>已红冲</span>\r\n\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"form-where\">\r\n\t\t\t\t\t\t\t\t\t\t\t<view class=\"tag\" v-show=\"it.BILL_PLATFORM==0\"><span class='iconfont iconpc'></span></view>\r\n\t\t\t\t\t\t\t\t\t\t\t<view class=\"tag\"  v-show=\"it.BILL_PLATFORM==1\"><span class='iconfont iconapp'></span></view>\r\n\t\t\t\t\t\t\t\t\t\t\t<view class=\"tag\"  v-show=\"it.BILL_PLATFORM==2\"><span class='iconfont iconshouji'></span></view>\r\n\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"display-more\" @tap='displayMore(it.BILL_ID)'>\r\n\t\t\t\t\t\t\t\t\t\t\t<view class=\"tag\" :class=\"{'icondown':!it.isShow}\"><span class='iconfont icontop'></span></view>\r\n\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view class=\"daily-conent\" v-if=\"it.isShow\"><!-- 明细详情 -->\r\n\t\t\t\t\t\t\t\t<view class=\"daily-list\" v-for=\"(item,index) in it.child\" :key=\"index\">\r\n\t\t\t\t\t\t\t\t\t<view class=\"daily-listinfo\">\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"daily-img\" @tap.stop=\"previewImage(it.child,index2)\">\r\n\t\t\t\t\t\t\t\t\t\t\t<!-- 'https://cloud.fydlsoft.com/transit_server'+ -->\r\n\t\t\t\t\t\t\t\t\t\t\t<image :src=\"'https://cloud.fydlsoft.com/transfer?REQUEST_URI=Request_Path=' + item.img\" @error=\"defaultImg(index2,index)\" alt=\"\" mode='aspectFit'></image>\r\n\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"daily-coninfo\">\r\n\t\t\t\t\t\t\t\t\t\t\t<view class=\"daily-coninfoone\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"daily-conleft w-text-over\">项目名称: {{item.BILLDETAIL_FILENAME || ''}}</view>\r\n\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t\t<view class=\"daily-coninfoone\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"daily-conleft w-text-over\">材料： {{item.BILLDETAIL_GOODSNAME||'空'}}</view> <view class=\"daily-listprice w-text-over\">{{item.BILLDETAIL_PRICE|priceFormat(2,'￥',true)}}</view>\r\n\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t\t<view class=\"daily-coninfoone\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"daily-conleft\">尺寸：{{item.BILLDETAIL_W||0}}*{{item.BILLDETAIL_H||0}}</view> <view class=\"daily-conright\">数量：{{item.BILLDETAIL_TOTALQTY||0}}</view>\r\n\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t\t<view class=\"daily-coninfoone\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"daily-contacts w-text-over warning\">小计: {{item.BILLDETAIL_TOTALMONEY|priceFormat(2,'￥',true)}}</view>\r\n\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<l-loading :status=\"lStatus\"></l-loading>\r\n\t\t\t\t\t</scroll-view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<!-- <view class=\"not-data\" v-show=\"dailyList.length == 0\">没有数据</view> -->\r\n\t\t\t</swiper-item>\r\n\t\t</swiper>\r\n\t<view class=\"recfooter\" :class=\"{'t-recfooter':(tabIndex == 2||pageSettlement == 3 || pageSettlement == 4)}\">\r\n\t\t<view class=\"pricebtn\">\r\n\t\t\t<view class=\"left1\">\r\n\t\t\t\t<view v-show=\"chooseAllIsShow\">\r\n\t\t\t\t\t<label @tap='choose()'>\r\n\t\t\t\t\t\t<checkbox :checked=\"chooseAll\"></checkbox>\r\n\t\t\t\t\t</label>\r\n\t\t\t\t\t<text>全选</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"pay-cont\"><text>数量: {{num}}</text><text>总金额: <text class='warning'>{{sales|priceFormat(2,'￥',true)}}</text></text></view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"right1\">\r\n\t\t\t\t<text class=\"right w-btn-danger\" @tap=\"pay()\">付 款</text>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport judge from '@/common/js/loginPublic.js'\r\n\timport l_md5 from '@/common/js/md5.js';\r\n\timport lLoading from '@/components/uni-lloading/l_loading.vue'\r\n\texport default {\r\n\t\tcomponents: {\r\n\t\t\tlLoading\r\n\t\t},\r\n\t\tprops: {\r\n\t\t\tscrollHeight: {\r\n\t\t\t\ttype: [Number,String],\r\n\t\t\t\tdefault:function(){\r\n\t\t\t\t\treturn 0\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\torderQuerry: {//从订单页面进入收款页面传入订单号和客户名\r\n\t\t\t\ttype: Object,\r\n\t\t\t\tdefault: function(){\r\n\t\t\t\t\treturn {key: false}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tmaskTop: { //收款页面弹窗弹出高度\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: function(){\r\n\t\t\t\t\treturn ''\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tfparams: {\r\n\t\t\t\ttype: Object,\r\n\t\t\t\tdefault: function(){\r\n\t\t\t\t\treturn {}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\ttabBars:[//顶部滑动切换标题\r\n\t\t\t\t\t{id: 0,name: '全部',isTrue: true},\r\n\t\t\t\t\t{id: 1,name: '已结清',isTrue: false},\r\n\t\t\t\t\t{id: 2,name: '未结清',isTrue: false},\r\n\t\t\t\t],\r\n\t\t\t\tdailyList:[],//页面订单显示数组\r\n\t\t\t\ttabIndex: 0,//swiper下标\r\n\t\t\t\torderList:{allData: [],clear: [],notClear: []},//订单页面需要三个数组存储数据全部、未结清、已结清防止已有数据再次请求\r\n\t\t\t\tnewsList:[],//swiper分多少个页面页占位数组\r\n\t\t\t\tpageLarge:{nowIndexA: 0,nowIndexB: 0,nowIndexC: 0},//现在处于页数\r\n\t\t\t\tpageMaxSize:{pageA: -1,pageB: -1,pageC: -1},//最大页数\r\n\t\t\t\tnowInfo:{nowIndex: 0,maxSize: -1},//传入接口页面参数\r\n\t\t\t\tallCheck: false,//全选\r\n\t\t\t\torderNums: 0,//订单数\r\n\t\t\t\tzMask: false,//查询时的遮罩层\r\n\t\t\t\tprepay_id: '',\r\n\t\t\t\tpageSettlement: 0,//0收款(数据不变) 1对账 2扫码\r\n\t\t\t\tchooseAll: false,//全选\r\n\t\t\t\tchooseAllIsShow: false,\r\n\t\t\t\ttemporaryData: {order_id: '',order_code: \"\"},//收款单临时数据\r\n\t\t\t\tisPay: false,//是否完成支付\r\n\t\t\t\tswiperQuery: false,\r\n\t\t\t\tpaymoney: '0',//微信支付金额\r\n\t\t\t\tlStatus: 'more',//加载状态\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tpreviewImage(item,index){\r\n\t\t\t\tlet urls = [];\r\n\t\t\t\titem.forEach(i=>{\r\n\t\t\t\t\turls.push(i.img);\r\n\t\t\t\t})\r\n\t\t\t\tuni.previewImage({\r\n\t\t\t\t\turls:urls,\r\n\t\t\t\t\tcurrent:index,\r\n\t\t\t\t\tindicator:'number',\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tdefaultImg(index1,index){ //切换默认图片\r\n\t\t\t\tthis.dailyList.some((i,j)=>{\r\n\t\t\t\t\tlet flag = false;\r\n\t\t\t\t\tif(j == index1){\r\n\t\t\t\t\t\tflag = i.child.some((k,l)=>{\r\n\t\t\t\t\t\t\tif(l == index){\r\n\t\t\t\t\t\t\t\t// k.img = '/static/pngs/unExist.png'\r\n\t\t\t\t\t\t\t\t// k.img = this.url + '/l_img/unExist.png';\r\n\t\t\t\t\t\t\t\tk.img = '111.67.204.75' + '/l_img/unExist.png';\r\n\t\t\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\treturn flag\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tchoose(){ //全选\r\n\t\t\t\tthis.chooseAll = !this.chooseAll;\r\n\t\t\t\tthis.dailyList.forEach((i, j)=>{\r\n\t\t\t\t\ti.isTrue = this.chooseAll\r\n\t\t\t\t\tthis.$set(this.dailyList, j, i)\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tdisplayMore(orderId){ //展开更多\r\n\t\t\t\tthis.dailyList.some((i,j)=>{\r\n\t\t\t\t\tif(i.BILL_ID == orderId){\r\n\t\t\t\t\t\ti.isShow = !i.isShow;\r\n\t\t\t\t\t\tthis.$set(this.dailyList,j,i);\r\n\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tasync refresh(){\r\n\t\t\t\tif(this.nowInfo.maxSize >= this.nowInfo.nowIndex || this.nowInfo.maxSize == -1){\r\n\t\t\t\t\tthis.addPageInfo();\r\n\t\t\t\t\tlet data = await this.wrquest(this.params);\r\n\t\t\t\t\tthis.setDisplayData(data);\r\n\t\t\t\t}else{\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tchangeCheckStatu(id){\r\n\t\t\t\tthis.dailyList = this.dailyList.map(i=>{\r\n\t\t\t\t\tif(i.BILL_CODE == id){\r\n\t\t\t\t\t\ti.isTrue = !i.isTrue;\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn i\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tsetDisplayData(data){\r\n\t\t\t\tlet arr3 = this.contactDoubleArr(data);\r\n\t\t\t\tthis.dailyList = arr3;\r\n\t\t\t\tswitch (this.tabIndex){\r\n\t\t\t\t\tcase 0://全部\r\n\t\t\t\t\t\tthis.orderList.allData = arr3;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 1://未结清\r\n\t\t\t\t\t\tthis.orderList.clear = arr3;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 2:// 已结清\r\n\t\t\t\t\t\tthis.orderList.notClear = arr3;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\taddPageInfo(){ // 当前页数+1\r\n\t\t\t\tswitch (this.tabIndex){\r\n\t\t\t\t\tcase 0://全部\r\n\t\t\t\t\tthis.nowInfo.nowIndex = this.pageLarge.nowIndexA = this.pageLarge.nowIndexA+1;\r\n\t\t\t\t\tthis.nowInfo.maxSize = this.pageMaxSize.pageA;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 1://未结清\r\n\t\t\t\t\tthis.nowInfo.nowIndex = this.pageLarge.nowIndexB = this.pageLarge.nowIndexB+1;\r\n\t\t\t\t\tthis.nowInfo.maxSize = this.pageMaxSize.pageB;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 2:// 已结清\r\n\t\t\t\t\tthis.nowInfo.nowIndex = this.pageLarge.nowIndexC = this.pageLarge.nowIndexC+1;\r\n\t\t\t\t\tthis.nowInfo.maxSize = this.pageMaxSize.pageC;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tsetPageInfo(){ //赋值切换当前页数和最大页数\r\n\t\t\t\tswitch (this.tabIndex){\r\n\t\t\t\t\tcase 0://全部\r\n\t\t\t\t\tthis.nowInfo.nowIndex = this.pageLarge.nowIndexA;\r\n\t\t\t\t\tthis.nowInfo.maxSize = this.pageMaxSize.pageA;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 1://未结清\r\n\t\t\t\t\tthis.nowInfo.nowIndex = this.pageLarge.nowIndexB;\r\n\t\t\t\t\tthis.nowInfo.maxSize = this.pageMaxSize.pageB;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 2:// 已结清\r\n\t\t\t\t\tthis.nowInfo.nowIndex = this.pageLarge.nowIndexC;\r\n\t\t\t\t\tthis.nowInfo.maxSize = this.pageMaxSize.pageC;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tsetMaxPage(max){//设置最大页\r\n\t\t\t\tswitch (this.tabIndex){\r\n\t\t\t\t\tcase 0://全部\r\n\t\t\t\t\tthis.nowInfo.maxSize = this.pageMaxSize.pageA = parseInt((max / 8));\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 1://未结清\r\n\t\t\t\t\tthis.nowInfo.maxSize = this.pageMaxSize.pageB = parseInt((max / 8));\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 2:// 已结清\r\n\t\t\t\t\tthis.nowInfo.maxSize = this.pageMaxSize.pageC = parseInt((max / 8));\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tsomeInit(index){//初始化条件与数据\r\n\t\t\t\tthis.pageLarge = {nowIndexA: 0,nowIndexB: 0,nowIndexC: 0};//现在处于页数\r\n\t\t\t\tthis.pageMaxSize = {pageA: -1,pageB: -1,pageC: -1};//最大页数\r\n\t\t\t\tthis.nowInfo = {nowIndex: 0,maxSize: 0};//传入接口页面参数\r\n\t\t\t\tif(this.pageSettlement == 0)this.params.STATUS = '2'//收款页面只展示未结清单子\r\n\t\t\t\tfor(let key in this.params){ //遍历重置筛选条件\r\n\t\t\t\t\tthis.params[key] = this.fparams[key]\r\n\t\t\t\t}\r\n\t\t\t\tconsole.log(index)\r\n\t\t\t\tthis.params.STATUS = index || 0;\r\n\t\t\t\tlet index2 = index || 0;\r\n\t\t\t\tthis.changeType(index2);//重置swiper位置\r\n\t\t\t\tthis.tabIndex = index2;//重置swiper位置\r\n\t\t\t\tthis.dailyList = [];\r\n\t\t\t\tthis.orderList.allData = this.orderList.clear = this.orderList.notClear = [];//重置各个数组\r\n\t\t\t},\r\n\t\t\tchangeType(id){ //更换订单类别\r\n\t\t\t\tif(this.tabIndex == 2){\r\n\t\t\t\t\tthis.$emit('changeScrollHeight',{type:true,height:70});\r\n\t\t\t\t}else{\r\n\t\t\t\t\tthis.$emit('changeScrollHeight',{type:false,height:70});\r\n\t\t\t\t\tthis.chooseAll = false;//全选按钮恢复默认\r\n\t\t\t\t}\r\n\t\t\t\tthis.tabBars.forEach(i=>{\r\n\t\t\t\t\ti.isTrue = false\r\n\t\t\t\t\tif(i.id == id){\r\n\t\t\t\t\t\ti.isTrue = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tontabtap(e) {//点击切换类别\r\n\t\t\t\tlet index = parseInt(e.target.dataset.current || e.currentTarget.dataset.current);\r\n\t\t\t\tthis.tabIndex = index;\r\n\t\t\t},\r\n\t\t\tontabchange(e) {//滑动切换类别\r\n\t\t\t\tlet index = parseInt(e.target.current || e.detail.current);\r\n\t\t\t\tthis.tabIndex = index;\r\n\t\t\t\tthis.params.STATUS = index;\r\n\t\t\t\tthis.setPageInfo();\r\n\t\t\t\tthis.changeType(index);\r\n\t\t\t\tthis.setOrderList(index,this.params);\r\n\t\t\t},\r\n\t\t\tchangeScreen(data){//改变筛选条件 父组件调用\r\n\t\t\t\tlet data1 = data.data1;\r\n\t\t\t\tlet data2 = data.data2;\r\n\t\t\t\tthis.someInit();\r\n\t\t\t\tif(data1.length != 0)this.packageData1(data1)\r\n\t\t\t\tif(data2.length != 0)this.packageData2(data2)\r\n\t\t\t\tthis.queryData()\r\n\t\t\t},\r\n\t\t\tpackageData1(data){ //顶部筛选数据\r\n\t\t\t\tdata.forEach(i=>{\r\n\t\t\t\t\tif(i.id == 102){\r\n\t\t\t\t\t\tthis.params.BEGINDATE = i.times.statrTime;\r\n\t\t\t\t\t\tlet addOne = i.times.endTime;\r\n\t\t\t\t\t\tlet arr = [];\r\n\t\t\t\t\t\tarr = addOne.split('-');\r\n\t\t\t\t\t\tarr[2] = parseInt(arr[2]) + 1;\r\n\t\t\t\t\t\tthis.params.ENDDATE = arr.join('-');\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\twrquest(params = this.params){//接口调用\r\n\t\t\t\tthis.params.PAGE_INDEX = this.nowInfo.nowIndex;\r\n\t\t\t\tif(this.swiperQuery)return;\r\n\t\t\t\tthis.lStatus = 'loading'\r\n\t\t\t\treturn new Promise((resolv,reject)=>{\r\n\t\t\t\t\tuni.request({\r\n\t\t\t\t\t\t//url: this.url + '/public/query',\r\n\t\t\t\t\t\t//url: 'http://192.168.199.145:7798' + '/public/query',\r\n\t\t\t\t\t\turl: this.transitUrl + '/transit_server',\r\n\t\t\t\t\t\t//method: 'GET',\r\n\t\t\t\t\t\tmethod: 'POST',\r\n\t\t\t\t\t\tdata:{\r\n\t\t\t\t\t\t\tinterface_add: 'http://' + this.url + ':' + this.port + '/public/query',\r\n\t\t\t\t\t\t\ttoken: this.token,\r\n\t\t\t\t\t\t\t//params: params,\r\n\t\t\t\t\t\t\tparams: JSON.stringify(params),\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tsuccess:res=>{\r\n\t\t\t\t\t\t\tif(res.data.status == 0){\r\n\t\t\t\t\t\t\t\tthis.setMaxPage(res.data.total)\r\n\t\t\t\t\t\t\t\tif(res.data.count < 8){\r\n\t\t\t\t\t\t\t\t\tthis.lStatus = 'noMore'\r\n\t\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\t\tthis.lStatus = 'more'\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tresolv(res.data.data)\r\n\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\tthis.lStatus = 'more'\r\n\t\t\t\t\t\t\t\treject(uni.showToast({title: '异常',icon: 'none'}))\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tfail:(res)=> {\r\n\t\t\t\t\t\t\tthis.lStatus = 'more'\r\n\t\t\t\t\t\t\tuni.showToast({title: '网络异常',icon: 'none'})\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tcomplete:(res)=> {\r\n\t\t\t\t\t\t\tthis.swiperQuery = false;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tasync queryData(params = this.params){ //查询数据\r\n\t\t\t\tlet data = await this.wrquest(params);\r\n\t\t\t\tthis.dailyList = this.createDoubleArr(data);\r\n\t\t\t\tthis.orderList.allData = this.dailyList;\r\n\t\t\t\tthis.appendCheckBox();\r\n\t\t\t},\r\n\t\t\tcontactDoubleArr(arr){//已有分组的情况下 上滑刷新出来的新数据处理\r\n\t\t\t\tlet arr1 = this.createDoubleArr(arr); //新增的二维数组\r\n\t\t\t\tlet num1 = 0,num2 = 0,num3 = 0;\r\n\t\t\t\tarr1.forEach(i=>{\r\n\t\t\t\t\tnum1+= i.child.length\r\n\t\t\t\t})\r\n\t\t\t\tlet arr2 = this.dailyList;//原来的二维数组\r\n\t\t\t\tarr2.forEach(i=>{\r\n\t\t\t\t\tnum2+= i.child.length\r\n\t\t\t\t})\r\n\t\t\t\tarr1.forEach((i,j)=>{\r\n\t\t\t\t\tlet flag = arr2.some((k,l)=>{\r\n\t\t\t\t\t\tif(i.BILL_ID == k.BILL_ID){//新增数据在原有数组中存在\r\n\t\t\t\t\t\t\tk.child = k.child.concat(i.child);\r\n\t\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\tif(!flag){\r\n\t\t\t\t\t\tarr2.push(i);\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\tarr2.forEach(i=>{\r\n\t\t\t\t\tnum3+= i.child.length\r\n\t\t\t\t})\r\n\t\t\t\treturn arr2;\r\n\t\t\t},\r\n\t\t\tcreateDoubleArr(arr){\r\n\t\t\t\tlet arr1 = []\r\n\t\t\t\tarr.filter(i=>{\r\n\t\t\t\t\tlet obj = {};\r\n\t\t\t\t\tobj['BILL_CODE'] = i.BILL_CODE;\r\n\t\t\t\t\tobj['BILL_DATE_STR'] = i.BILL_DATE_STR;\r\n\t\t\t\t\tobj['BILL_ID'] = i.BILL_ID;\r\n\t\t\t\t\tobj['BILL_LEFTMONEY'] = i.BILL_LEFTMONEY;\r\n\t\t\t\t\tobj['BILL_PAIDMONEY'] =Math.abs(Number(i.BILL_TOTALMONEY)) - Math.abs(Number(i.BILL_LEFTMONEY));\r\n\t\t\t\t\tobj['isShow'] = true;\r\n\t\t\t\t\tobj['child'] = [];\r\n\t\t\t\t\tarr1.push(obj);\r\n\t\t\t\t})\r\n\t\t\t\tarr1 = arr1.filter((i,j,self)=>{\r\n\t\t\t\t\treturn self.findIndex(el=>el.BILL_CODE == i.BILL_CODE)===j\r\n\t\t\t\t})\r\n\t\t\t\tarr1.forEach((i,j)=>{\r\n\t\t\t\t\tarr.forEach((k,l)=>{\r\n\t\t\t\t\t\tlet flag = false;\r\n\t\t\t\t\t\tlet obj = {};\r\n\t\t\t\t\t\tif(i.BILL_ID == k.BILL_ID){\r\n\t\t\t\t\t\t\tflag = true;\r\n\t\t\t\t\t\t\tobj['BILLDETAIL_GOODSNAME'] = k.BILLDETAIL_GOODSNAME;\r\n\t\t\t\t\t\t\tobj['BILLDETAIL_FILENAME'] = k.BILLDETAIL_FILENAME;\r\n\t\t\t\t\t\t\tobj['BILL_LEFTMONEY'] = k.BILL_LEFTMONEY;\r\n\t\t\t\t\t\t\tobj['BILLDETAIL_W'] = k.BILLDETAIL_W;\r\n\t\t\t\t\t\t\tobj['BILLDETAIL_PRICE'] = k.BILLDETAIL_PRICE;\r\n\t\t\t\t\t\t\tobj['BILLDETAIL_H'] = k.BILLDETAIL_H;\r\n\t\t\t\t\t\t\tobj['BILLDETAIL_TOTALQTY'] = k.BILLDETAIL_QTY;\r\n\t\t\t\t\t\t\tobj['BILLDETAIL_TOTALMONEY'] = k.BILLDETAIL_TOTALMONEY;\r\n\t\t\t\t\t\t\tobj['img'] = this.wpublic.getImgUrl(k.BILLDETAIL_ID);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif(flag)i.child.push(obj)\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t\treturn arr1;\r\n\t\t\t},\r\n\t\t\tappendCheckBox(){//添加可控筛选属性\r\n\t\t\t\tif(this.dailyList.length == 0)return\r\n\t\t\t\tthis.dailyList.forEach((i,j)=>{\r\n\t\t\t\t\ti.isShow = true;\r\n\t\t\t\t\ti.isTrue = false;\r\n\t\t\t\t\tthis.$set(this.dailyList,j,i)\r\n\t\t\t\t\t// this.$set(this.dailyList[j],'isTrue',false);\r\n\t\t\t\t\t// this.$set(this.dailyList[j],'isShow',true);\r\n\t\t\t\t})\r\n\t\t\t\tconsole.log(this.dailyList)\r\n\t\t\t},\r\n\t\t\tpullRefresh(){\r\n\t\t\t\tthis.someInit(this.tabIndex)\r\n\t\t\t\tthis.queryData();\r\n\t\t\t},\r\n\t\t\tjqueyForCustomer(){\r\n\t\t\t\tthis.pageSettlement = 1;\r\n\t\t\t\t[1,2,3].forEach(i => {\r\n\t\t\t\t\tthis.newsList.push(i);\r\n\t\t\t\t});\r\n\t\t\t\tthis.chooseAllIsShow = true\r\n\t\t\t\tthis.nowInfo.nowIndex = 0;\r\n\t\t\t\tthis.someInit(0);\r\n\t\t\t\tthis.queryData();\r\n\t\t\t},\r\n\t\t\tscanJquery(){\r\n\t\t\t\tthis.swiperQuery = true;//禁止多次查询\r\n\t\t\t\tthis.someInit(0);\r\n\t\t\t\tthis.queryData();\r\n\t\t\t},\r\n\t\t\t// 付款逻辑开始\r\n\t\t\tpackage(){//组装数据\r\n\t\t\t\tlet data = [];\r\n\t\t\t\tthis.dailyList.forEach(i=>{\r\n\t\t\t\t\tif(i.isTrue){\r\n\t\t\t\t\t\ti.child.some((k,j)=>{\r\n\t\t\t\t\t\t\tlet obj = {};\r\n\t\t\t\t\t\t\tobj.id = 0;\r\n\t\t\t\t\t\t\tobj.LpTotal = k.BILL_LEFTMONEY; //后期工艺价格\r\n\t\t\t\t\t\t\tobj.total = k.BILL_LEFTMONEY;\r\n\t\t\t\t\t\t\tobj.refbillid = i.BILL_ID;\r\n\t\t\t\t\t\t\tdata.push(obj);\r\n\t\t\t\t\t\t\tif(true)return true\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t}) \r\n\t\t\t\tlet params = {\r\n\t\t\t\t\tMODE: 1,\r\n\t\t\t\t\torder:{\r\n\t\t\t\t\t\tid: 0,\r\n\t\t\t\t\t\ttype: 2,\r\n\t\t\t\t\t\tDate:this.wpublic.getDay(0),\r\n\t\t\t\t\t\tpartnerid:this.partnerid,//客户ID\r\n\t\t\t\t\t\tpaymenttypeid: 258,//支付方式\r\n\t\t\t\t\t\tpaymoney: this.sales,\r\n\t\t\t\t\t\ttotal: this.sales,\r\n\t\t\t\t\t\tremark: '微信小程序临时收款'\r\n\t\t\t\t\t},\r\n\t\t\t\t\t'OrderDetail': data\r\n\t\t\t\t}\r\n\t\t\t\treturn params;\r\n\t\t\t},\r\n\t\t\tpayStatus(){\r\n\t\t\t\tlet flag = false;\r\n\t\t\t\tflag = this.dailyList.some(i=>{\r\n\t\t\t\t\tif(i.isTrue)return true;\r\n\t\t\t\t})\r\n\t\t\t\treturn flag\r\n\t\t\t},\r\n\t\t\tcomplete(params){//收成临时收款单\r\n\t\t\t\treturn new Promise((resolve,reject)=>{\r\n\t\t\t\t\tuni.request({\r\n\t\t\t\t\t\turl: this.transitUrl + '/transit_server',\r\n\t\t\t\t\t\t//url: 'http://192.168.199.145:7798' + '/public/common',\r\n\t\t\t\t\t\t//method: 'GET',\r\n\t\t\t\t\t\tmethod: 'POST',\r\n\t\t\t\t\t\tdata:{\r\n\t\t\t\t\t\t\tinterface_add: 'http://' + this.url + ':' + this.port + '/public/common',\r\n\t\t\t\t\t\t\t//token: '6DC6E3E243773B841717190112723222',\r\n\t\t\t\t\t\t\ttoken: this.token,\r\n\t\t\t\t\t\t\tparams: JSON.stringify(params),\r\n\t\t\t\t\t\t\t//params:params,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tsuccess:(res)=> {\r\n\t\t\t\t\t\t\tlet result = judge.loginJudge(res.data.status);\r\n\t\t\t\t\t\t\tif (result == false) {\r\n\t\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif(res.data.status == 0){\r\n\t\t\t\t\t\t\t\tresolve(res.data);\r\n\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\treject(uni.showToast({title:'订单修改失败'+res.data.message,icon:'none'}))\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tfail:(res)=> {\r\n\t\t\t\t\t\t\treject(uni.showToast({title: '网络繁忙,稍后重试'+res.message,icon:'none'}))\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t})\r\n\t\t\t\t}) \r\n\t\t\t},\r\n\t\t\tasync pay(){ //发起支付\r\n\t\t\t\tif(!this.payStatus()){\r\n\t\t\t\t\tuni.showToast({title: \"请选择单子\",icon: 'none'})\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\tif(this.partnerid!=''){\r\n\t\t\t\t\tlet params = this.package();\r\n\t\t\t\t\tlet data = await this.complete(params).catch(()=>{return 'wrong'});\r\n\t\t\t\t\tif(data!='wrong'){\r\n\t\t\t\t\t\tif(data.status == 0){\r\n\t\t\t\t\t\t\tlet PAYSERVER_URL = data.PAYSERVER_URL\r\n\t\t\t\t\t\t\tthis.paymoney = params.order.paymoney;\r\n\t\t\t\t\t\t\tthis.temporaryData.order_id = data.order_id;\r\n\t\t\t\t\t\t\tthis.temporaryData.order_code = data.order_code_long;//data.order_code.replace(/-/g,'');\r\n\t\t\t\t\t\t\tthis.taskPay(this.temporaryData.order_code,PAYSERVER_URL);\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\tuni.showToast({title: data.message,icon: 'none'})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tuni.showToast({title: '异常',icon:'none'})\r\n\t\t\t\t\t}\r\n\t\t\t\t}else{\r\n\t\t\t\t\tuni.showToast({title: '客户ID获取异常',icon:'none'})\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t/* deleteOrder(params){ //删除订单 登账\r\n\t\t\t\tuni.showLoading({title: '加载中...'})\r\n\t\t\t\tuni.request({\r\n\t\t\t\t\t//url: this.url + '/public/common',\r\n\t\t\t\t\turl: this.transitUrl + '/transit_server',\r\n\t\t\t\t\tmethod: 'POST',\r\n\t\t\t\t\t//method: 'GET',\r\n\t\t\t\t\tdata:{\r\n\t\t\t\t\t\tinterface_add: 'http://' + this.url + ':' + this.port + '/public/common',\r\n\t\t\t\t\t\ttoken: this.token,\r\n\t\t\t\t\t\tparams: JSON.stringify(params),\r\n\t\t\t\t\t},\r\n\t\t\t\t\tsuccess:res=>{\r\n\t\t\t\t\t\tlet result = judge.loginJudge(res.data.status);\r\n\t\t\t\t\t\tif (result == false) {\r\n\t\t\t\t\t\t\tuni.showToast({title: '验证码过期请重新登录',icon: 'none'})\r\n\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif(res.data.status == 0 && res.data.FailureCount == 0){//登账接口返回成功\r\n\t\t\t\t\t\t\tif(params.type == 1){\r\n\t\t\t\t\t\t\t\tuni.showToast({title: '登账成功',icon: 'success'});\r\n\t\t\t\t\t\t\t\tsetTimeout(()=>{\r\n\t\t\t\t\t\t\t\t\tthis.pullRefresh()\r\n\t\t\t\t\t\t\t\t},500)\r\n\t\t\t\t\t\t\t}else if(params.type == -1){\r\n\t\t\t\t\t\t\t\tif(this.isPay){\r\n\t\t\t\t\t\t\t\t\tthis.isPay = false;\r\n\t\t\t\t\t\t\t\t\tthis.taskBackMoney(this.temporaryData.order_code);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tuni.showToast({title: '删除临时账单成功',icon: 'success'})\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\tif(this.isPay){\r\n\t\t\t\t\t\t\t\tthis.isPay = false;\r\n\t\t\t\t\t\t\t\tthis.taskBackMoney(this.temporaryData.order_code);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\ttry{\r\n\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\ttitle: res.data.FailureIdList[0].ERROR\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t}catch(e){\r\n\t\t\t\t\t\t\t\t//TODO handle the exception\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail:()=> {\r\n\t\t\t\t\t\tif(this.isPay){\r\n\t\t\t\t\t\t\tthis.isPay = false;\r\n\t\t\t\t\t\t\tthis.taskBackMoney(this.temporaryData.order_code);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\tcomplete:()=> {\r\n\t\t\t\t\t\tuni.hideLoading()\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t}, */\r\n\t\t\tbeforeWXpay(url,payOrderId,PAYSERVER_URL){\r\n\t\t\t\tuni.showLoading({title: '发起支付中...'});\r\n\t\t\t\tlet userInfo = JSON.parse(uni.getStorageSync('userInfo'));\r\n\t\t\t\tlet personName = uni.getStorageSync('personName');\r\n\t\t\t\tlet token = uni.getStorageSync('token');\r\n\t\t\t\tlet params = {trade_no: payOrderId,customer_id: userInfo.personId,\r\n\t\t\t\tcustomer_name: personName,erp_ip: this.url + ':' + this.port,receipt_id: this.temporaryData.order_id,token: token,total_fee: this.paymoney}\r\n\t\t\t\t//锚点\r\n\t\t\t\treturn new Promise((resolve,reject)=>{\r\n\t\t\t\t\twx.login({\r\n\t\t\t\t\t\tsuccess: res => {\r\n\t\t\t\t\t\t\tvar code = res.code;\r\n\t\t\t\t\t\t\t//nonceStr->code MD5 \r\n\t\t\t\t\t\t\tuni.request({\r\n\t\t\t\t\t\t\t\turl: url,\r\n\t\t\t\t\t\t\t\tmethod: 'POST',\r\n\t\t\t\t\t\t\t\tdata: {\r\n\t\t\t\t\t\t\t\t\tRequest_url: PAYSERVER_URL + \"/unifiedorder\",\r\n\t\t\t\t\t\t\t\t\ttoken: l_md5(code+'FYDL'),\r\n\t\t\t\t\t\t\t\t\tcode: code,\r\n\t\t\t\t\t\t\t\t\tparams: JSON.stringify(params)\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\t\t\t\tresolve(res)\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\tfail:(erro)=> {\r\n\t\t\t\t\t\t\t\t\tuni.showToast({title: '请求失败'+'错误码201',icon:\"none\"});\r\n\t\t\t\t\t\t\t\t\treject();\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tasync taskPay(payOrderId,PAYSERVER_URL){ //调用微信前运行\r\n\t\t\t\tlet data = await this.beforeWXpay(this.payUrl,payOrderId,PAYSERVER_URL).catch(()=>{return {state: 500}});\r\n\t\t\t\tif(data.statusCode == 200){ //服务器正常连接\r\n\t\t\t\t\tif(data.data.status == 200){\r\n\t\t\t\t\t\tthis.WXpay(data.data);\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tthis.taskPayWrong(data)\r\n\t\t\t\t\t}\r\n\t\t\t\t}else{\r\n\t\t\t\t\tthis.taskPayWrong(data)\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\ttaskPayWrong(data){// 调用微信支付前的接口报错\r\n\t\t\t\t/* let params = {\r\n\t\t\t\t\tMode:2,\r\n\t\t\t\t\ttype: -1,\r\n\t\t\t\t\tidlist:[this.temporaryData.order_id]\r\n\t\t\t\t} */\r\n\t\t\t\tuni.showToast({title: '出错' + data.data.RETURN_MSG,icon: 'none'})\r\n\t\t\t\t/* setTimeout(()=>{\r\n\t\t\t\t\tthis.deleteOrder(params);\r\n\t\t\t\t},1000) */\r\n\t\t\t},\r\n\t\t\tasync taskBackMoney(payOrderId){\r\n\t\t\t\tlet data = await this.backMoney(this.payUrl,payOrderId).catch(()=>{return {state: 500}});\r\n\t\t\t\tif(data.statusCode == 200){\r\n\t\t\t\t\tif(data.data.status == 200){\r\n\t\t\t\t\t\tuni.showToast({title: \"退款成功\",icon: 'success'})\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tuni.showToast({title: \"自动退款失败请联系管理员\",icon: 'success'})\r\n\t\t\t\t\t}\r\n\t\t\t\t}/* else if(data.statusCode == 404){\r\n\t\t\t\t\tuni.showToast({title: '启用备用域名',icon: 'none'})\r\n\t\t\t\t\tlet data1 = await this.backMoney('https://cloud1.fydlsoft.com',payOrderId).catch(()=>{return {state: 500}});\r\n\t\t\t\t\tif(data1.statusCode == 200){\r\n\t\t\t\t\t\tif(data.data.status == 200){\r\n\t\t\t\t\t\t\tuni.showToast({title: \"退款成功\",icon: 'success'})\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\tuni.showToast({title: \"自动退款失败请联系管理员\",icon: 'success'})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tuni.showToast({title: \"自动退款失败请联系管理员\",icon: 'success'})\r\n\t\t\t\t\t}\r\n\t\t\t\t} */else{\r\n\t\t\t\t\tuni.showToast({title: \"自动退款失败请联系管理员\",icon: 'success'})\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t/* backMoney(url,payOrderId){\r\n\t\t\t\tuni.showLoading({title: '退款中...'});\r\n\t\t\t\treturn new Promise((resolve,reject)=>{\r\n\t\t\t\t\twx.login({\r\n\t\t\t\t\t\tsuccess: res => {\r\n\t\t\t\t\t\t\tvar code = res.code;\r\n\t\t\t\t\t\t\t//nonceStr->code MD5 \r\n\t\t\t\t\t\t\tuni.request({\r\n\t\t\t\t\t\t\t\turl: url + '/refund',\r\n\t\t\t\t\t\t\t\tmethod: 'POST',\r\n\t\t\t\t\t\t\t\tdata:{total_fee: '0.01',code: code,out_trade_no: payOrderId},\r\n\t\t\t\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\t\t\t\tresolve(res);\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\tfail:(erro)=> {\r\n\t\t\t\t\t\t\t\t\treject();\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\tcomplete: () => {\r\n\t\t\t\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t}, */\r\n\t\t\tWXpay(data){ //调用微信支付\r\n\t\t\t\tuni.requestPayment({\r\n\t\t\t\t\tprovider: 'wxpay',\r\n\t\t\t\t\ttimeStamp: data.timeStamp,\r\n\t\t\t\t\tnonceStr: data.nonceStr,\r\n\t\t\t\t\tpackage: data.package,\r\n\t\t\t\t\tsignType: data.signType,\r\n\t\t\t\t\tpaySign: data.paySign,\r\n\t\t\t\t\tsuccess: (res)=>{\r\n\t\t\t\t\t\tif (res.errMsg == 'requestPayment:ok'){\r\n\t\t\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\t\t\turl: '../../pages/order/payresult?order_id=' + this.temporaryData.order_code\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t/*\r\n\t\t\t\t\t\t\t\tthis.isPay = true;\r\n\t\t\t\t\t\t\t\tlet params = {\r\n\t\t\t\t\t\t\t\tMode:2,\r\n\t\t\t\t\t\t\t\ttype: 1,\r\n\t\t\t\t\t\t\t\tidlist: [this.temporaryData.order_id]\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tthis.deleteOrder(params);//登账 */\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\t\t\turl: '../../pages/order/payresult?order_id=' + this.temporaryData.order_code\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t/* let params = {\r\n\t\t\t\t\t\t\t\tMode:2,\r\n\t\t\t\t\t\t\t\ttype: -1,\r\n\t\t\t\t\t\t\t\tidlist:[this.temporaryData.order_id]\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tthis.deleteOrder(params); */\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail: (err)=> {\r\n\t\t\t\t\t\tuni.showToast({title: '支付已取消',icon: 'none'});\r\n\t\t\t\t\t/* \tlet params = {\r\n\t\t\t\t\t\t\tMode:2,\r\n\t\t\t\t\t\t\ttype: -1,\r\n\t\t\t\t\t\t\tidlist:[this.temporaryData.order_id]\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthis.deleteOrder(params) */\r\n\t\t\t\t\t},\r\n\t\t\t\t\tcomplete: () => {\r\n\t\t\t\t\t\tuni.hideLoading()\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tasync setOrderList(type = -1,params){//设置类别数据\r\n\t\t\t\tswitch (type){\r\n\t\t\t\t\tcase -1:\r\n\t\t\t\t\t\tlet data = await this.wrquest(params);\r\n\t\t\t\t\t\tthis.orderList.allData = this.createDoubleArr(data);\r\n\t\t\t\t\t\tthis.dailyList = this.orderList.allData;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 0:\r\n\t\t\t\t\tif(this.orderList.allData.length == 0){\r\n\t\t\t\t\t\tlet data = await this.wrquest(params);\r\n\t\t\t\t\t\tthis.orderList.allData = this.createDoubleArr(data);\r\n\t\t\t\t\t\tthis.dailyList = this.orderList.allData;\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tthis.dailyList = this.orderList.allData;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 1:\r\n\t\t\t\t\tif(this.orderList.clear.length == 0){\r\n\t\t\t\t\t\tlet data = await this.wrquest(params);\r\n\t\t\t\t\t\tthis.orderList.clear = this.createDoubleArr(data);\r\n\t\t\t\t\t\tthis.dailyList = this.orderList.clear;\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tthis.dailyList = this.orderList.clear;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase 2:\r\n\t\t\t\t\tif(this.orderList.notClear.length == 0){\r\n\t\t\t\t\t\tlet data = await this.wrquest(params);\r\n\t\t\t\t\t\tthis.orderList.notClear = this.createDoubleArr(data);\r\n\t\t\t\t\t\tthis.dailyList = this.orderList.notClear;\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tthis.dailyList = this.orderList.notClear;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\tthis.appendCheckBox();\r\n\t\t\t},\r\n\t\t},\r\n\t\tcomputed:{\r\n\t\t\tpayUrl: {\r\n\t\t\t\tset: function(){\r\n\t\t\t\t\treturn 0\r\n\t\t\t\t},\r\n\t\t\t\tget: function(){\r\n\t\t\t\t\treturn this.$store.state.payUrl;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\ttransitUrl: {\r\n\t\t\t\tset: function(){\r\n\t\t\t\t\treturn 0\r\n\t\t\t\t},\r\n\t\t\t\tget: function(){\r\n\t\t\t\t\treturn this.$store.state.transitUrl;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\turl:{\r\n\t\t\t\tget: function(){\r\n\t\t\t\t\treturn this.$store.state.loginParams.url\r\n\t\t\t\t},\r\n\t\t\t\tset: function(){\r\n\t\t\t\t\treturn ''\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tport: {\r\n\t\t\t\tget: function(){\r\n\t\t\t\t\treturn this.$store.state.loginParams.port\r\n\t\t\t\t},\r\n\t\t\t\tset: function(){\r\n\t\t\t\t\treturn 7798\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tdbname: {\r\n\t\t\t\tget: function(){\r\n\t\t\t\t\treturn this.$store.state.loginParams.dbname\r\n\t\t\t\t},\r\n\t\t\t\tset: function(){\r\n\t\t\t\t\treturn ''\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\ttoken: {\r\n\t\t\t\tget: function(){\r\n\t\t\t\t\treturn this.$store.state.token\r\n\t\t\t\t},\r\n\t\t\t\tset: function(){\r\n\t\t\t\t\treturn ''\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tparams:{ //筛选条件初始化由父页面传值\r\n\t\t\t\tset:function(){\r\n\t\t\t\t\treturn {}\r\n\t\t\t\t},\r\n\t\t\t\tget: function(){\r\n\t\t\t\t\tlet obj = this.wpublic.deepClone(this.fparams);\r\n\t\t\t\t\treturn obj\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tnum: {\r\n\t\t\t\tset:function(){\r\n\t\t\t\t\treturn 0\r\n\t\t\t\t},\r\n\t\t\t\tget:function(){\r\n\t\t\t\t\tif(this.pageSettlement == 0){\r\n\t\t\t\t\t\treturn this.dailyList.length;\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tlet num = 0;\r\n\t\t\t\t\t\tthis.dailyList.forEach(i=>{\r\n\t\t\t\t\t\t\tif(i.isTrue)num++\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\treturn num\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tpartnerid:{\r\n\t\t\t\tset:function(){\r\n\t\t\t\t\treturn 0\r\n\t\t\t\t},\r\n\t\t\t\tget:function(){\r\n\t\t\t\t\treturn this.$store.state.loginParams.personId\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tsales: {\r\n\t\t\t\tset: function(){\r\n\t\t\t\t\treturn 0\r\n\t\t\t\t},\r\n\t\t\t\tget: function(){\r\n\t\t\t\t\tlet nums = 0;\r\n\t\t\t\t\tconsole.log('执行')\r\n\t\t\t\t\tthis.dailyList.forEach(i=>{\r\n\t\t\t\t\t\tif(this.pageSettlement == 0){\r\n\t\t\t\t\t\t\tnums += Math.abs(parseFloat(i.BILL_LEFTMONEY));\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\tif(i.isTrue){\r\n\t\t\t\t\t\t\t\tnums += Math.abs(parseFloat(i.BILL_LEFTMONEY));\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\treturn nums;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t},\r\n\t}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\t@import \"../../common/css/iconfont.css\";\r\n\t@import \"../../common/css/order.scss\";\r\n\t.con-conent{\r\n\t\t.recfooter{\r\n\t\t\theight: 0;\r\n\t\t\ttransition: all .3s ease-in;\r\n\t\t\ttransform: translateY(70px);\r\n\t\t\t.pricebtn{\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tjustify-content: space-between;\r\n\t\t\t\t.left1{\r\n\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\t.pay-cont{\r\n\t\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\t\tflex-direction: column;\r\n\t\t\t\t\t\tpadding-left: 40rpx;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\r\n\t\t\t}\r\n\t\t}\r\n\t\t.t-recfooter{\r\n\t\t\theight: 120rpx;\r\n\t\t\ttransform: translateY(0);\r\n\t\t\t/* #ifdef H5 */\r\n\t\t\ttransform: translateY(-100px);\r\n\t\t\t/* #endif */\r\n\t\t}\r\n\t}\r\n</style>","import mod from \"-!../../../../HBuilderX.2.3.7.20191024.full/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../HBuilderX.2.3.7.20191024.full/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../HBuilderX.2.3.7.20191024.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../HBuilderX.2.3.7.20191024.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../HBuilderX.2.3.7.20191024.full/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../HBuilderX.2.3.7.20191024.full/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../HBuilderX.2.3.7.20191024.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../HBuilderX.2.3.7.20191024.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX.2.3.7.20191024.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./uniOrder.vue?vue&type=style&index=0&id=70b0fad7&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../HBuilderX.2.3.7.20191024.full/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../HBuilderX.2.3.7.20191024.full/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../HBuilderX.2.3.7.20191024.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../HBuilderX.2.3.7.20191024.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../HBuilderX.2.3.7.20191024.full/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../HBuilderX.2.3.7.20191024.full/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../HBuilderX.2.3.7.20191024.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../HBuilderX.2.3.7.20191024.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX.2.3.7.20191024.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./uniOrder.vue?vue&type=style&index=0&id=70b0fad7&lang=scss&scoped=true&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1597055298457\n      var cssReload = require(\"D:/HBuilderX.2.3.7.20191024.full/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}